/*!
 * Virtual Select 1.0
 * https://sa-si-dev.github.io/virtual-select
 * Licensed under MIT (https://github.com/sa-si-dev/virtual-select/blob/master/LICENSE)
 */(()=>{"use strict";var t={657:(t,e,o)=>{function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return l(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,i=new Array(e);o<e;o++)i[o]=t[o];return i}function a(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r={13:"onEnterPress",27:"onEscPress",38:"onUpArrowPress",40:"onDownArrowPress"},c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);try{e=Object.assign({valueKey:"value",labelKey:"label",optionsCount:5,optionHeight:"40px",multiple:!1,hideClearButton:!1,noOptionsText:"No results found",placeholder:"Select",position:"auto"},e),this.valueKey=e.valueKey,this.labelKey=e.labelKey,this.optionsCount=e.optionsCount,this.halfOptionsCount=Math.ceil(this.optionsCount/2),this.optionHeightText=e.optionHeight,this.optionHeight=parseFloat(this.optionHeightText),this.multiple=!!e.multiple,this.hasSearch=!!e.search,this.hideClearButton=!!e.hideClearButton,this.noOptionsText=e.noOptionsText,this.placeholder=e.placeholder,this.position=e.position,this.selectedValues=[],this.events={},this.tooltipEnterDelay=500,this.maximumValuesToShow=50,this.transitionDuration=250,this.searchValue="",this.optionsHeight=this.optionsCount*this.optionHeight+"px",this.$ele=e.ele,void 0===e.search&&this.multiple&&(this.hasSearch=!0),this.setDisabledOptions(e.disabledOptions),this.setOptions(e.options),this.render(),this.addEvents(),this.setMethods()}catch(t){console.warn("Couldn't initiate Virtual Select"),console.error(t)}}var e,o,l;return e=t,l=[{key:"init",value:function(e){var o=e.ele;if(o){var i=!1;if("string"!=typeof o||(o=document.querySelector(o))){void 0===o.length&&(o=[o],i=!0);var s=[];return o.forEach((function(o){e.ele=o,s.push(new t(e))})),i?s[0]:s}}}},{key:"closeAllDropbox",value:function(t){document.querySelectorAll(".vscomp-wrapper").forEach((function(e){t&&t===e||e.parentElement.virtualSelect.closeDropbox()}))}},{key:"resetForm",value:function(t){var e=t.target.closest("form");e&&e.querySelectorAll(".vscomp-wrapper").forEach((function(t){t.parentElement.virtualSelect.reset()}))}},{key:"reset",value:function(){this.virtualSelect.reset()}},{key:"setValueMethod",value:function(t,e){this.virtualSelect.setValueMethod(t,e)}},{key:"setOptionsMethod",value:function(t){this.virtualSelect.setOptionsMethod(t)}},{key:"setDisabledOptionsMethod",value:function(t){this.virtualSelect.setDisabledOptionsMethod(t)}}],(o=[{key:"render",value:function(){if(this.$ele){var t="vscomp-wrapper closed",e=this.getStyleText({"max-height":this.optionsHeight});this.multiple&&(t+=" multiple"),"top"===this.position&&(t+=" position-top"),this.hideClearButton||(t+=" has-clear-button");var o='<div class="'.concat(t,'" tabindex="0">\n        <div class="vscomp-toggle-button">\n          <div class="vscomp-value" data-tooltip-enter-delay="').concat(this.tooltipEnterDelay,'">').concat(this.placeholder,'</div>\n          <div class="vscomp-arrow"></div>\n          <div class="vscomp-clear-button toggle-button-child" data-tooltip-enter-delay="').concat(this.tooltipEnterDelay,'" data-tooltip="Clear"></div>\n        </div>\n        <div class="vscomp-dropbox">\n          <div class="vscomp-search-wrapper"></div>\n          <div class="vscomp-options-container" ').concat(e,'>\n            <div class="vscomp-options-list">\n              <div class="vscomp-options"></div>\n            </div>\n          </div>\n          <div class="vscomp-no-options">').concat(this.noOptionsText,"</div>\n        </div>\n      </div>");this.$ele.innerHTML=o,this.$wrapper=this.$ele.querySelector(".vscomp-wrapper"),this.$toggleButton=this.$ele.querySelector(".vscomp-toggle-button"),this.$clearButton=this.$ele.querySelector(".vscomp-clear-button"),this.$dropbox=this.$ele.querySelector(".vscomp-dropbox"),this.$search=this.$ele.querySelector(".vscomp-search-wrapper"),this.$optionsContainer=this.$ele.querySelector(".vscomp-options-container"),this.$optionsList=this.$ele.querySelector(".vscomp-options-list"),this.$options=this.$ele.querySelector(".vscomp-options"),this.$valueText=this.$ele.querySelector(".vscomp-value"),this.addClass(this.$ele,"vscomp-ele"),this.renderSearch(),this.setOptionsHeight(),this.setVisibleOptions()}}},{key:"renderOptions",value:function(){var t=this,e="",o=this.labelKey,i=this.getVisibleOptions(),s="",n=this.getStyleText({height:this.optionHeight+"px"});this.multiple&&(s='<span class="checkbox-icon"></span>'),i.forEach((function(i){var l=i[o],a="vscomp-option";i.isSelected&&(a+=" selected"),i.isFocused&&(a+=" focused"),i.isDisabled&&(a+=" disabled"),e+='<div class="'.concat(a,'" data-value="').concat(i.value,'" data-index="').concat(i.index,'" ').concat(n,">\n          ").concat(s,'\n          <span class="vscomp-option-text" data-tooltip="').concat(l,'" data-tooltip-enter-delay="').concat(t.tooltipEnterDelay,'">\n            ').concat(l,"\n          </span>\n        </div>")})),this.$options.innerHTML=e,this.toggleClass(this.$wrapper,"has-no-options",!i.length),this.setOptionsPosition(),this.moveFocusedOptionToView()}},{key:"renderSearch",value:function(){if(this.hasSearch){var t="";this.multiple&&(t='<span class="checkbox-icon toggle-all-options"></span>');var e='<div class="vscomp-search-container">\n        '.concat(t,'\n        <input type="text" class="vscomp-search-input" placeholder="Search...">\n        <span class="vscomp-search-clear">&times;</span>\n      </div>');this.$search.innerHTML=e,this.$searchInput=this.$ele.querySelector(".vscomp-search-input"),this.$searchClear=this.$ele.querySelector(".vscomp-search-clear"),this.$toggleAllOptions=this.$ele.querySelector(".toggle-all-options"),this.addEvent(this.$searchInput,"keyup change","onSearch"),this.addEvent(this.$searchClear,"click","onSearchClear"),this.addEvent(this.$toggleAllOptions,"click","onToggleAllOptions")}}},{key:"addEvents",value:function(){this.addEvent(document,"click","onDocumentClick"),this.addEvent(this.$wrapper,"keydown","onKeyDown"),this.addEvent(this.$toggleButton,"click","onToggleButtonClick"),this.addEvent(this.$clearButton,"click","onClearButtonClick"),this.addEvent(this.$optionsContainer,"scroll","onOptionsScroll"),this.addEvent(this.$options,"click","onOptionsClick"),this.addEvent(this.$options,"mouseover","onOptionsMouseOver"),this.addEvent(this.$options,"touchmove","onOptionsTouchMove")}},{key:"addEvent",value:function(t,e,o){var i=this;t&&(e=this.removeArrayEmpty(e.split(" "))).forEach((function(e){var s="".concat(o,"-").concat(e),n=i.events[s];n||(n=i[o].bind(i),i.events[s]=n),(t=i.getElements(t)).forEach((function(t){t.addEventListener(e,n)}))}))}},{key:"dispatchEvent",value:function(t,e){t&&(t=this.getElements(t)).forEach((function(t){t.dispatchEvent(new Event(e))}))}},{key:"onDocumentClick",value:function(e){t.closeAllDropbox(e.target.closest(".vscomp-wrapper"))}},{key:"onKeyDown",value:function(t){var e=t.which||t.keyCode,o=r[e];o&&this[o](t)}},{key:"onEnterPress",value:function(){this.isOpened()?this.selectFocusedOption():this.openDropbox()}},{key:"onEscPress",value:function(){this.isOpened()&&this.closeDropbox()}},{key:"onDownArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption("next"):this.openDropbox()}},{key:"onUpArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption("previous"):this.openDropbox()}},{key:"onToggleButtonClick",value:function(t){t.target.closest(".toggle-button-child")||this.toggleDropbox()}},{key:"onClearButtonClick",value:function(){this.reset()}},{key:"onOptionsScroll",value:function(){this.setVisibleOptions()}},{key:"onOptionsClick",value:function(t){this.selectOption(t.target.closest(".vscomp-option:not(.disabled)"))}},{key:"onOptionsMouseOver",value:function(t){var e=t.target.closest(".vscomp-option:not(.disabled)");e&&this.focusOption(null,e)}},{key:"onOptionsTouchMove",value:function(){this.removeOptionFocus()}},{key:"onSearch",value:function(t){t.stopPropagation(),this.setSearchValue(t.target.value,!0)}},{key:"onSearchClear",value:function(){this.setSearchValue(""),this.focusSearchInput()}},{key:"onToggleAllOptions",value:function(){this.toggleAllOptions()}},{key:"setMethods",value:function(){var e=this.$ele;e.virtualSelect=this,e.value=this.multiple?[]:"",e.reset=t.reset,e.setValue=t.setValueMethod,e.setOptions=t.setOptionsMethod,e.setDisabledOptions=t.setDisabledOptionsMethod}},{key:"setValueMethod",value:function(t,e){Array.isArray(t)||(t=[t]),t=t.map((function(t){return t||0==t?t.toString():""}));var o=[];this.options.forEach((function(e){-1===t.indexOf(e.value)||e.isDisabled?e.isSelected=!1:(e.isSelected=!0,o.push(e.value))})),this.multiple||(o=o[0]),this.setValue(o,!e),this.afterValueSet()}},{key:"setOptionsMethod",value:function(t){this.setOptions(t),this.setOptionsHeight(),this.setVisibleOptions(),this.reset()}},{key:"setDisabledOptionsMethod",value:function(t){this.setDisabledOptions(t,!0),this.setValueMethod(null),this.setVisibleOptions()}},{key:"setDisabledOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=t.map((function(t){return t.toString()})),this.disabledOptions=t,e&&t.length&&this.options.forEach((function(e){return e.isDisabled=-1!==t.indexOf(e.value),e}))}},{key:"setOptions",value:function(t){t||(t=[]);var e=this.disabledOptions,o=e.length,i=this.valueKey,s=this.labelKey;this.visibleOptionsCount=t.length,this.options=t.map((function(t,n){var l=t[i].toString();return t.index=n,t.value=l,t.label=t[s],t.isVisible=!0,o&&(t.isDisabled=-1!==e.indexOf(l)),t}))}},{key:"setVisibleOptions",value:function(){var t=s(this.options),e=2*this.optionsCount,o=this.getVisibleStartIndex(),i=o+e-1,n=0;t=t.filter((function(t){var e=!1;return t.isVisible&&(e=n>=o&&n<=i,n++),e})),this.visibleOptions=t,this.renderOptions()}},{key:"setOptionsPosition",value:function(t){void 0===t&&(t=this.getVisibleStartIndex());var e=t*this.optionHeight;this.$options.style.transform="translate3d(0, ".concat(e,"px, 0)"),this.setData(this.$options,"top",e)}},{key:"setValue",value:function(t,e){t?Array.isArray(t)?this.selectedValues=s(t):this.selectedValues=[t]:this.selectedValues=[],this.$ele.value=this.multiple?this.selectedValues:this.selectedValues[0]||"",this.setValueText(),this.toggleClass(this.$wrapper,"has-value",this.isNotEmpty(this.selectedValues)),e&&this.dispatchEvent(this.$ele,"change")}},{key:"setValueText",value:function(){var t,e=[],o=[],i=this.selectedValues,s=this.maximumValuesToShow,l=0,a=function(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=n(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,s=function(){};return{s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,r=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return a=t.done,t},e:function(t){r=!0,l=t},f:function(){try{a||null==o.return||o.return()}finally{if(r)throw l}}}}(this.options);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(l>s)break;var c=r.value;if(-1!==i.indexOf(c)){var u=r[this.labelKey];e.push(u),o.push('<span class="vscomp-value-tag">'.concat(u,"</span>")),l++}}}catch(t){a.e(t)}finally{a.f()}var h=i.length-s;h>0&&o.push('<span class="vscomp-value-tag">+ '.concat(h," more...</span>")),this.$valueText.innerHTML=e.join(", ")||this.placeholder,this.setData(this.$valueText,"tooltip",o.join(", "))}},{key:"setSearchValue",value:function(t,e){if(t!==this.searchValue){e||(this.$searchInput.value=t);var o=t.toLowerCase().trim(),i=0;this.searchValue=o,this.options.forEach((function(t){var e=-1!==t.label.toString().toLowerCase().indexOf(o);t.isVisible=e,e&&i++})),this.visibleOptionsCount=i,this.toggleClass(this.$wrapper,"has-search-value",t),this.scrollToTop(),this.setOptionsHeight(),this.setVisibleOptions()}}},{key:"setOptionProp",value:function(t,e,o){isNaN(t)||null===t||(this.options[t][e]=o)}},{key:"setOptionsHeight",value:function(){this.$optionsList.style.height=this.optionHeight*this.visibleOptionsCount+"px"}},{key:"setDropboxPosition",value:function(){if("auto"===this.position){var t=this.getMoreVisibleSides(this.$wrapper);this.toggleClass(this.$wrapper,"position-top","top"===t.vertical)}}},{key:"getVisibleOptions",value:function(){return this.visibleOptions||[]}},{key:"getValue",value:function(){return this.multiple?this.selectedValues:this.selectedValues[0]}},{key:"getFirstVisibleOptionIndex",value:function(){return Math.ceil(this.$optionsContainer.scrollTop/this.optionHeight)}},{key:"getVisibleStartIndex",value:function(){var t=this.getFirstVisibleOptionIndex()-this.halfOptionsCount;return t<0&&(t=0),t}},{key:"openDropbox",value:function(t){var e=this;this.setDropboxPosition(),this.removeClass(this.$wrapper,"closed"),setTimeout((function(){e.addClass(e.$wrapper,"opened"),t||e.addClass(e.$wrapper,"focused"),e.focusSearchInput()}),0)}},{key:"closeDropbox",value:function(t){var e=this,o=t?0:this.transitionDuration;setTimeout((function(){e.removeClass(e.$wrapper,"opened focused"),e.removeOptionFocus()}),0),setTimeout((function(){e.addClass(e.$wrapper,"closed")}),o)}},{key:"toggleDropbox",value:function(){this.isOpened()?this.closeDropbox():this.openDropbox()}},{key:"isOpened",value:function(){return this.hasClass(this.$wrapper,"opened")}},{key:"focusSearchInput",value:function(){var t=this.$searchInput;t&&t.focus()}},{key:"focusOption",value:function(t,e){var o,i=this.$dropbox.querySelector(".vscomp-option.focused");if(e)o=e;else if(i)o=this.getSibling(i,t);else{var s=this.getFirstVisibleOptionIndex();o=this.$dropbox.querySelector('.vscomp-option[data-index="'.concat(s,'"]')),this.hasClass(o,"disabled")&&(o=this.getSibling(o,"next"))}o&&o!==i&&(i&&this.removeClass(i,"focused"),this.addClass(o,"focused"),this.toggleFocusedProp(this.getData(o,"index"),!0),this.moveFocusedOptionToView(o))}},{key:"moveFocusedOptionToView",value:function(t){if(t||(t=this.$dropbox.querySelector(".vscomp-option.focused")),t){var e,o=this.$optionsContainer.getBoundingClientRect(),i=t.getBoundingClientRect(),s=o.top,n=o.bottom,l=o.height,a=i.top,r=i.bottom,c=i.height,u=t.offsetTop,h=this.getData(this.$options,"top","number");s>a?e=u+h:n<r&&(e=u-l+c+h),void 0!==e&&(this.$optionsContainer.scrollTop=e)}}},{key:"removeOptionFocus",value:function(){var t=this.$dropbox.querySelector(".vscomp-option.focused");t&&(this.removeClass(t,"focused"),this.toggleFocusedProp(null))}},{key:"selectOption",value:function(t){if(t){var e=!this.hasClass(t,"selected");if(e||this.multiple){var o=this.selectedValues,i=this.getData(t,"value"),s=this.getData(t,"index");if(this.toggleSelectedProp(s,e),e){if(this.multiple)o.push(i),this.toggleAllOptionsClass();else{var n=this.$ele.querySelector(".vscomp-option.selected");o=[i],this.closeDropbox(),n&&(this.toggleClass(n,"selected",!1),this.toggleSelectedProp(this.getData(n,"index"),!1))}this.toggleClass(t,"selected")}else this.multiple&&(this.toggleClass(t,"selected"),this.removeItemFromArray(o,i),this.toggleAllOptionsClass(!1));this.setValue(o,!0)}}}},{key:"selectFocusedOption",value:function(){this.selectOption(this.$dropbox.querySelector(".vscomp-option.focused"))}},{key:"toggleAllOptions",value:function(t){"boolean"!=typeof t&&(t=!this.hasClass(this.$toggleAllOptions,"checked"));var e=[];this.options.forEach((function(o){o.isDisabled||(o.isSelected=t,t&&e.push(o.value))})),this.setValue(e,!0),this.toggleAllOptionsClass(t),this.renderOptions()}},{key:"toggleAllOptionsClass",value:function(t){"boolean"!=typeof t&&(t=!1,this.options.length&&(t=!this.options.some((function(t){return!t.isSelected&&!t.isDisabled})))),this.toggleClass(this.$toggleAllOptions,"checked",t)}},{key:"toggleFocusedProp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.focusedOptionIndex&&this.setOptionProp(this.focusedOptionIndex,"isFocused",!1),this.setOptionProp(t,"isFocused",e),this.focusedOptionIndex=t}},{key:"toggleSelectedProp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setOptionProp(t,"isSelected",e)}},{key:"scrollToTop",value:function(){var t=!this.isOpened();t&&this.openDropbox(!0),this.$optionsContainer.scrollTop>0&&(this.$optionsContainer.scrollTop=0),t&&this.closeDropbox(!0)}},{key:"reset",value:function(){this.options.forEach((function(t){t.isSelected=!1})),this.setValue(null,!0),this.afterValueSet(!0)}},{key:"afterValueSet",value:function(t){this.scrollToTop(),this.toggleAllOptionsClass(!t&&void 0),this.setSearchValue(""),this.renderOptions()}},{key:"addClass",value:function(t,e){t&&(e=e.split(" "),this.getElements(t).forEach((function(t){var o;(o=t.classList).add.apply(o,s(e))})))}},{key:"removeClass",value:function(t,e){t&&(e=e.split(" "),this.getElements(t).forEach((function(t){var o;(o=t.classList).remove.apply(o,s(e))})))}},{key:"toggleClass",value:function(t,e,o){var i;if(t)return void 0!==o&&(o=Boolean(o)),this.getElements(t).forEach((function(t){i=t.classList.toggle(e,o)})),i}},{key:"hasClass",value:function(t,e){return!!t&&t.classList.contains(e)}},{key:"isEmpty",value:function(t){var e=!1;return t?Array.isArray(t)?0===t.length&&(e=!0):"object"===i(t)&&0===Object.keys(t).length&&(e=!0):e=!0,e}},{key:"isNotEmpty",value:function(t){return!this.isEmpty(t)}},{key:"setData",value:function(t,e,o){t&&(t.dataset[e]=o)}},{key:"getStyleText",value:function(t,e){var o="";for(var i in t)o+="".concat(i,": ").concat(t[i],";");return o&&!e&&(o='style="'.concat(o,'"')),o}},{key:"getElements",value:function(t){if(t)return void 0===t.length&&(t=[t]),t}},{key:"getData",value:function(t,e,o){if(t){var i=t?t.dataset[e]:"";return"number"===o?i=parseFloat(i)||0:"true"===i?i=!0:"false"===i&&(i=!1),i}}},{key:"removeItemFromArray",value:function(t,e,o){if(!Array.isArray(t)||!t.length||!e)return t;o&&(t=s(t));var i=t.indexOf(e);return-1!==i&&t.splice(i,1),t}},{key:"removeArrayEmpty",value:function(t){return Array.isArray(t)&&t.length?t.filter((function(t){return!!t})):[]}},{key:"getMoreVisibleSides",value:function(t){if(!t)return{};var e=t.getBoundingClientRect(),o=window.innerWidth,i=window.innerHeight,s=e.left,n=e.top;return{horizontal:s>o-s-e.width?"left":"right",vertical:n>i-n-e.height?"top":"bottom"}}},{key:"getSibling",value:function(t,e){var o="next"===e?"nextElementSibling":"previousElementSibling";do{t&&(t=t[o])}while(this.hasClass(t,"disabled"));return t}}])&&a(e.prototype,o),l&&a(e,l),t}();document.addEventListener("reset",c.resetForm),window.VirtualSelect=c}},e={};function o(i){if(e[i])return e[i].exports;var s=e[i]={exports:{}};return t[i](s,s.exports,o),s.exports}o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o(657)})();
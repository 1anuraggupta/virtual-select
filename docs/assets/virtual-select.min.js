/*!
 * Virtual Select 1.0
 * https://sa-si-dev.github.io/virtual-select
 * Licensed under MIT (https://github.com/sa-si-dev/virtual-select/blob/master/LICENSE)
 */(()=>{"use strict";var t={"./src/virtual-select.js":
/*!*******************************!*\
  !*** ./src/virtual-select.js ***!
  \*******************************/(t,e,i)=>{function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return l(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function a(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}i.r(e),i.d(e,{VirtualSelect:()=>u});var r={13:"onEnterPress",27:"onEscPress",38:"onUpArrowPress",40:"onDownArrowPress"},u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);try{this.setProps(e),this.setDisabledOptions(e.disabledOptions),this.setOptions(e.options),this.render(),this.addEvents(),this.setMethods(),e.selectedValue&&this.setValueMethod(e.selectedValue,this.silentInitialValueSet)}catch(t){console.warn("Couldn't initiate Virtual Select"),console.error(t)}}var e,i,l;return e=t,l=[{key:"init",value:function(e){var i=e.ele;if(i){var o=!1;if("string"!=typeof i||(i=document.querySelector(i))){void 0===i.length&&(i=[i],o=!0);var s=[];return i.forEach((function(i){e.ele=i,s.push(new t(e))})),o?s[0]:s}}}},{key:"closeAllDropbox",value:function(t){document.querySelectorAll(".vscomp-wrapper").forEach((function(e){t&&t===e||e.parentElement.virtualSelect.closeDropbox()}))}},{key:"resetForm",value:function(t){var e=t.target.closest("form");e&&e.querySelectorAll(".vscomp-wrapper").forEach((function(t){t.parentElement.virtualSelect.reset()}))}},{key:"reset",value:function(){this.virtualSelect.reset()}},{key:"setValueMethod",value:function(t,e){this.virtualSelect.setValueMethod(t,e)}},{key:"setOptionsMethod",value:function(t){this.virtualSelect.setOptionsMethod(t)}},{key:"setDisabledOptionsMethod",value:function(t){this.virtualSelect.setDisabledOptionsMethod(t)}},{key:"toggleSelectAll",value:function(t){this.virtualSelect.toggleAllOptions(t)}},{key:"isAllSelected",value:function(){return this.virtualSelect.isAllSelected}}],(i=[{key:"render",value:function(){if(this.$ele){var t="vscomp-wrapper closed",e=this.getTooltipAttrText("",!0),i=this.getTooltipAttrText("Clear"),o=this.getStyleText({"max-height":this.optionsHeight}),s={"z-index":this.zIndex};this.dropboxWidth&&(s.width=this.dropboxWidth),this.multiple&&(t+=" multiple"),"top"===this.position&&(t+=" position-top"),this.hideClearButton||(t+=" has-clear-button");var n='<div class="'.concat(t,'" tabindex="0">\n        <div class="vscomp-toggle-button">\n          <div class="vscomp-value" ').concat(e,">\n            ").concat(this.placeholder,'\n          </div>\n          <div class="vscomp-arrow"></div>\n          <div class="vscomp-clear-button toggle-button-child" ').concat(i,'>\n          </div>\n        </div>\n        <div class="vscomp-dropbox" ').concat(this.getStyleText(s),'>\n          <div class="vscomp-search-wrapper"></div>\n          <div class="vscomp-options-container" ').concat(o,'>\n            <div class="vscomp-options-list">\n              <div class="vscomp-options"></div>\n            </div>\n          </div>\n          <div class="vscomp-no-options">').concat(this.noOptionsText,'</div>\n          <div class="vscomp-no-search-results">').concat(this.noSearchResultsText,"</div>\n        </div>\n      </div>");this.$ele.innerHTML=n,this.$wrapper=this.$ele.querySelector(".vscomp-wrapper"),this.$toggleButton=this.$ele.querySelector(".vscomp-toggle-button"),this.$clearButton=this.$ele.querySelector(".vscomp-clear-button"),this.$dropbox=this.$ele.querySelector(".vscomp-dropbox"),this.$search=this.$ele.querySelector(".vscomp-search-wrapper"),this.$optionsContainer=this.$ele.querySelector(".vscomp-options-container"),this.$optionsList=this.$ele.querySelector(".vscomp-options-list"),this.$options=this.$ele.querySelector(".vscomp-options"),this.$valueText=this.$ele.querySelector(".vscomp-value"),this.addClass(this.$ele,"vscomp-ele"),this.renderSearch(),this.setOptionsHeight(),this.setVisibleOptions()}}},{key:"renderOptions",value:function(){var t=this,e="",i=this.getVisibleOptions(),o="",s="",n=this.getStyleText({height:this.optionHeight+"px"});if(this.multiple&&(o='<span class="checkbox-icon"></span>'),this.allowNewOption){var l=this.getTooltipAttrText("New Option");s='<span class="vscomp-new-option-icon" '.concat(l,"></span>")}i.forEach((function(i){var l=i.label,a="vscomp-option",r=t.getTooltipAttrText("",!0),u="";i.isSelected&&(a+=" selected"),i.isFocused&&(a+=" focused"),i.isDisabled&&(a+=" disabled"),i.isCurrentNew&&(a+=" current-new",u+=s),e+='<div class="'.concat(a,'" data-value="').concat(i.value,'" data-index="').concat(i.index,'" data-visible-index="').concat(i.visibleIndex,'" ').concat(n,">\n          ").concat(o,'\n          <span class="vscomp-option-text" ').concat(r,">\n            ").concat(l,"\n          </span>\n          ").concat(u,"\n        </div>")})),this.$options.innerHTML=e;var a=!this.options.length,r=!a&&!i.length;this.allowNewOption||this.toggleClass(this.$wrapper,"has-no-search-results",r),this.toggleClass(this.$wrapper,"has-no-options",a),this.setOptionsPosition(),this.setOptionsTooltip(),this.moveFocusedOptionToView()}},{key:"renderSearch",value:function(){if(this.hasSearch){var t="";this.multiple&&(t='<span class="checkbox-icon toggle-all-options"></span>');var e='<div class="vscomp-search-container">\n        '.concat(t,'\n        <input type="text" class="vscomp-search-input" placeholder="Search...">\n        <span class="vscomp-search-clear">&times;</span>\n      </div>');this.$search.innerHTML=e,this.$searchInput=this.$ele.querySelector(".vscomp-search-input"),this.$searchClear=this.$ele.querySelector(".vscomp-search-clear"),this.$toggleAllOptions=this.$ele.querySelector(".toggle-all-options"),this.addEvent(this.$searchInput,"keyup change","onSearch"),this.addEvent(this.$searchClear,"click","onSearchClear"),this.addEvent(this.$toggleAllOptions,"click","onToggleAllOptions")}}},{key:"addEvents",value:function(){this.addEvent(document,"click","onDocumentClick"),this.addEvent(this.$wrapper,"keydown","onKeyDown"),this.addEvent(this.$toggleButton,"click","onToggleButtonClick"),this.addEvent(this.$clearButton,"click","onClearButtonClick"),this.addEvent(this.$optionsContainer,"scroll","onOptionsScroll"),this.addEvent(this.$options,"click","onOptionsClick"),this.addEvent(this.$options,"mouseover","onOptionsMouseOver"),this.addEvent(this.$options,"touchmove","onOptionsTouchMove")}},{key:"addEvent",value:function(t,e,i){var o=this;t&&(e=this.removeArrayEmpty(e.split(" "))).forEach((function(e){var s="".concat(i,"-").concat(e),n=o.events[s];n||(n=o[i].bind(o),o.events[s]=n),(t=o.getElements(t)).forEach((function(t){t.addEventListener(e,n)}))}))}},{key:"dispatchEvent",value:function(t,e){t&&(t=this.getElements(t),setTimeout((function(){t.forEach((function(t){t.dispatchEvent(new Event(e,{bubbles:!0}))}))}),0))}},{key:"onDocumentClick",value:function(e){t.closeAllDropbox(e.target.closest(".vscomp-wrapper"))}},{key:"onKeyDown",value:function(t){var e=t.which||t.keyCode,i=r[e];i&&this[i](t)}},{key:"onEnterPress",value:function(){this.isOpened()?this.selectFocusedOption():this.openDropbox()}},{key:"onEscPress",value:function(){this.isOpened()&&this.closeDropbox()}},{key:"onDownArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption("next"):this.openDropbox()}},{key:"onUpArrowPress",value:function(t){t.preventDefault(),this.isOpened()?this.focusOption("previous"):this.openDropbox()}},{key:"onToggleButtonClick",value:function(t){t.target.closest(".toggle-button-child")||this.toggleDropbox()}},{key:"onClearButtonClick",value:function(){this.reset()}},{key:"onOptionsScroll",value:function(){this.setVisibleOptions()}},{key:"onOptionsClick",value:function(t){this.selectOption(t.target.closest(".vscomp-option:not(.disabled)"))}},{key:"onOptionsMouseOver",value:function(t){var e=t.target.closest(".vscomp-option:not(.disabled)");e&&this.focusOption(null,e)}},{key:"onOptionsTouchMove",value:function(){this.removeOptionFocus()}},{key:"onSearch",value:function(t){t.stopPropagation(),this.setSearchValue(t.target.value,!0)}},{key:"onSearchClear",value:function(){this.setSearchValue(""),this.focusSearchInput()}},{key:"onToggleAllOptions",value:function(){this.toggleAllOptions()}},{key:"setProps",value:function(t){t=this.setDefaultProps(t),this.setPropsFromElementAttr(t),this.$ele=t.ele,this.valueKey=t.valueKey,this.labelKey=t.labelKey,this.optionsCount=parseInt(t.optionsCount),this.halfOptionsCount=Math.ceil(this.optionsCount/2),this.optionHeightText=t.optionHeight,this.optionHeight=parseFloat(this.optionHeightText),this.multiple=this.convertToBoolean(t.multiple),this.hasSearch=this.convertToBoolean(t.search),this.hideClearButton=this.convertToBoolean(t.hideClearButton),this.silentInitialValueSet=this.convertToBoolean(t.silentInitialValueSet),this.allowNewOption=this.convertToBoolean(t.allowNewOption),this.markSearchResults=this.convertToBoolean(t.markSearchResults),this.noOptionsText=t.noOptionsText,this.noSearchResultsText=t.noSearchResultsText,this.placeholder=t.placeholder,this.position=t.position,this.dropboxWidth=t.dropboxWidth,this.noOfDisplayValues=parseInt(t.noOfDisplayValues),this.zIndex=parseInt(t.zIndex),this.selectedValues=[],this.events={},this.tooltipEnterDelay=200,this.transitionDuration=250,this.searchValue="",this.searchValueOriginal="",this.isAllSelected=!1,this.optionsHeight=this.optionsCount*this.optionHeight+"px",(void 0===t.search&&this.multiple||this.allowNewOption)&&(this.hasSearch=!0)}},{key:"setDefaultProps",value:function(t){return Object.assign({valueKey:"value",labelKey:"label",optionsCount:5,noOfDisplayValues:50,optionHeight:"40px",multiple:!1,hideClearButton:!1,silentInitialValueSet:!1,noOptionsText:"No options found",noSearchResultsText:"No results found",placeholder:"Select",position:"auto",zIndex:1,allowNewOption:!1,markSearchResults:!1},t)}},{key:"setPropsFromElementAttr",value:function(t){var e=t.ele,i={multiple:"multiple",placeholder:"placeholder","data-label-key":"labelKey","data-value-key":"valueKey","data-search":"search","data-hide-clear-button":"hideClearButton","data-options-count":"optionsCount","data-option-height":"optionHeight","data-position":"position","data-no-options-text":"noOptionsText","data-no-search-results-text":"noSearchResultsText","data-silent-initial-value-set":"silentInitialValueSet","data-dropbox-width":"dropboxWidth","data-z-index":"zIndex","data-no-of-display-values":"noOfDisplayValues","data-allow-new-option":"allowNewOption","data-mark-search-results":"markSearchResults"};for(var o in i){var s=e.getAttribute(o);"multiple"!==o||""!==s&&"true"!==s||(s=!0),s&&(t[i[o]]=s)}}},{key:"setMethods",value:function(){var e=this.$ele;e.virtualSelect=this,e.value=this.multiple?[]:"",e.reset=t.reset,e.setValue=t.setValueMethod,e.setOptions=t.setOptionsMethod,e.setDisabledOptions=t.setDisabledOptionsMethod,e.toggleSelectAll=t.toggleSelectAll,e.isAllSelected=t.isAllSelected}},{key:"setValueMethod",value:function(t,e){Array.isArray(t)||(t=[t]),t=t.map((function(t){return t||0==t?t.toString():""}));var i=[];this.options.forEach((function(e){-1===t.indexOf(e.value)||e.isDisabled?e.isSelected=!1:(e.isSelected=!0,i.push(e.value))})),this.multiple||(i=i[0]),this.setValue(i,!e),this.afterValueSet()}},{key:"setOptionsMethod",value:function(t){this.setOptions(t),this.setOptionsHeight(),this.setVisibleOptions(),this.reset()}},{key:"setDisabledOptionsMethod",value:function(t){this.setDisabledOptions(t,!0),this.setValueMethod(null),this.setVisibleOptions()}},{key:"setDisabledOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=t.map((function(t){return t.toString()})),this.disabledOptions=t,e&&t.length&&this.options.forEach((function(e){return e.isDisabled=-1!==t.indexOf(e.value),e}))}},{key:"setOptions",value:function(t){t||(t=[]);var e=this.disabledOptions,i=e.length,o=this.valueKey,s=this.labelKey;this.visibleOptionsCount=t.length,this.options=t.map((function(t,n){var l=(t[o]||"").toString(),a={index:n,value:l,label:t[s]||"",isVisible:!0};return i&&(a.isDisabled=-1!==e.indexOf(l)),a})),this.lastOptionIndex=this.options.length-1}},{key:"setVisibleOptions",value:function(){var t=s(this.options),e=2*this.optionsCount,i=this.getVisibleStartIndex(),o=this.getNewOption(),n=i+e-1,l=0;o&&(o.visibleIndex=l,l++),t=t.filter((function(t){var e=!1;return t.isVisible&&!t.isCurrentNew&&(e=l>=i&&l<=n,t.visibleIndex=l,l++),e})),o&&(t=[o].concat(s(t))),this.visibleOptions=t,this.renderOptions()}},{key:"setOptionsPosition",value:function(t){void 0===t&&(t=this.getVisibleStartIndex());var e=t*this.optionHeight;this.$options.style.transform="translate3d(0, ".concat(e,"px, 0)"),this.setData(this.$options,"top",e)}},{key:"setOptionsTooltip",value:function(){var t=this;this.getVisibleOptions().forEach((function(e){var i=t.$dropbox.querySelector('.vscomp-option[data-index="'.concat(e.index,'"] .vscomp-option-text'));t.setData(i,"tooltip",e.label)}))}},{key:"setValue",value:function(t,e){t?Array.isArray(t)?this.selectedValues=s(t):this.selectedValues=[t]:this.selectedValues=[],this.$ele.value=this.multiple?this.selectedValues:this.selectedValues[0]||"",this.setValueText(),this.toggleClass(this.$wrapper,"has-value",this.isNotEmpty(this.selectedValues)),e&&this.dispatchEvent(this.$ele,"change")}},{key:"setValueText",value:function(){var t,e=[],i=[],o=this.selectedValues,s=this.noOfDisplayValues,l=0,a=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,s=function(){};return{s,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,r=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return a=t.done,t},e:function(t){r=!0,l=t},f:function(){try{a||null==i.return||i.return()}finally{if(r)throw l}}}}(this.options);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(!r.isCurrentNew){if(l>50)break;var u=r.value;if(-1!==o.indexOf(u)){var c=r.label;e.push(c),++l<=s&&i.push('<span class="vscomp-value-tag">'.concat(c,"</span>"))}}}}catch(t){a.e(t)}finally{a.f()}var h=o.length-s;h>0&&i.push('<span class="vscomp-value-tag">+ '.concat(h," more...</span>")),this.$valueText.innerHTML=e.join(", ")||this.placeholder,this.setData(this.$valueText,"tooltip",i.join(", "))}},{key:"setSearchValue",value:function(t,e){if(t!==this.searchValueOriginal){e||(this.$searchInput.value=t);var i=this.markSearchResults,o=t.toLowerCase().trim(),s=0,n=!1;this.searchValue=o,this.searchValueOriginal=t,this.options.forEach((function(t){if(!t.isCurrentNew){i&&(t.label=t.label.replace(/<\/*mark>/g,""));var e=t.label.toString().toLowerCase(),l=-1!==e.indexOf(o);if(t.isVisible=l,l&&(s++,i)){var a=e.indexOf(o);t.label=t.label.substr(0,a)+"<mark>"+t.label.substr(a,o.length)+"</mark>"+t.label.substr(a+o.length)}n||(n=e===o)}})),this.visibleOptionsCount=s,this.allowNewOption&&(t&&!n?(this.setNewOption(),this.visibleOptionsCount++):this.removeNewOption()),this.toggleClass(this.$wrapper,"has-search-value",t),this.scrollToTop(),this.setOptionsHeight(),this.setVisibleOptions()}}},{key:"setOptionProp",value:function(t,e,i){this.options[t]&&(this.options[t][e]=i)}},{key:"setOptionsHeight",value:function(){this.$optionsList.style.height=this.optionHeight*this.visibleOptionsCount+"px"}},{key:"setDropboxPosition",value:function(){if("auto"===this.position){var t=this.getMoreVisibleSides(this.$wrapper),e=!1;if(this.dropboxWidth){var i=this.$toggleButton.getBoundingClientRect(),o=window.innerWidth,s=parseFloat(this.dropboxWidth),n=i.left+s>o,l=s>i.right;n&&!l&&(e=!0)}this.toggleClass(this.$wrapper,"position-top","top"===t.vertical),this.toggleClass(this.$wrapper,"position-left",e)}}},{key:"setNewOption",value:function(){var t=this.searchValueOriginal.trim();if(t){var e=this.getNewOption();if(e){var i=e.index;this.setOptionProp(i,"value",t),this.setOptionProp(i,"label",t)}else{var o={value:t,label:t,isCurrentNew:!0};this.addOption(this.getOptionObj(o))}}}},{key:"getVisibleOptions",value:function(){return this.visibleOptions||[]}},{key:"getValue",value:function(){return this.multiple?this.selectedValues:this.selectedValues[0]}},{key:"getFirstVisibleOptionIndex",value:function(){return Math.ceil(this.$optionsContainer.scrollTop/this.optionHeight)}},{key:"getVisibleStartIndex",value:function(){var t=this.getFirstVisibleOptionIndex()-this.halfOptionsCount;return t<0&&(t=0),t}},{key:"getTooltipAttrText",value:function(t,e){var i={"data-tooltip":t||"","data-tooltip-enter-delay":this.tooltipEnterDelay,"data-tooltip-z-index":this.zIndex,"data-tooltip-ellipsis-only":e||!1};return this.getAttributesText(i)}},{key:"getOptionObj",value:function(t){if(t)return{index:t.index,isCurrentNew:t.isCurrentNew||!1,value:t.value,label:t.label}}},{key:"getNewOption",value:function(){var t=this.options[this.lastOptionIndex];if(t&&t.isCurrentNew)return t}},{key:"getOptionIndex",value:function(t){var e;return t&&this.options.some((function(i){if(i.value==t)return e=i.index,!0})),e}},{key:"openDropbox",value:function(t){var e=this;this.setDropboxPosition(),this.removeClass(this.$wrapper,"closed"),setTimeout((function(){e.addClass(e.$wrapper,"opened"),t||(e.addClass(e.$wrapper,"focused"),e.focusSearchInput())}),0)}},{key:"closeDropbox",value:function(t){var e=this,i=t?0:this.transitionDuration;setTimeout((function(){e.removeClass(e.$wrapper,"opened focused"),e.removeOptionFocus()}),0),setTimeout((function(){e.addClass(e.$wrapper,"closed")}),i)}},{key:"toggleDropbox",value:function(){this.isOpened()?this.closeDropbox():this.openDropbox()}},{key:"isOpened",value:function(){return this.hasClass(this.$wrapper,"opened")}},{key:"focusSearchInput",value:function(){var t=this.$searchInput;t&&t.focus()}},{key:"focusOption",value:function(t,e){var i,o=this.$dropbox.querySelector(".vscomp-option.focused");if(e)i=e;else if(o)i=this.getSibling(o,t);else{var s=this.getFirstVisibleOptionIndex();i=this.$dropbox.querySelector('.vscomp-option[data-visible-index="'.concat(s,'"]')),this.hasClass(i,"disabled")&&(i=this.getSibling(i,"next"))}i&&i!==o&&(o&&this.removeClass(o,"focused"),this.addClass(i,"focused"),this.toggleFocusedProp(this.getData(i,"index"),!0),this.moveFocusedOptionToView(i))}},{key:"moveFocusedOptionToView",value:function(t){if(t||(t=this.$dropbox.querySelector(".vscomp-option.focused")),t){var e,i=this.$optionsContainer.getBoundingClientRect(),o=t.getBoundingClientRect(),s=i.top,n=i.bottom,l=i.height,a=o.top,r=o.bottom,u=o.height,c=t.offsetTop,h=this.getData(this.$options,"top","number");s>a?e=c+h:n<r&&(e=c-l+u+h),void 0!==e&&(this.$optionsContainer.scrollTop=e)}}},{key:"removeOptionFocus",value:function(){var t=this.$dropbox.querySelector(".vscomp-option.focused");t&&(this.removeClass(t,"focused"),this.toggleFocusedProp(null))}},{key:"selectOption",value:function(t){if(t){var e=!this.hasClass(t,"selected");if(e||this.multiple){var i=this.selectedValues,o=this.getData(t,"value"),s=this.getData(t,"index");if(this.toggleSelectedProp(s,e),e){if(this.multiple)i.push(o),this.toggleAllOptionsClass();else{i.length&&this.toggleSelectedProp(this.getOptionIndex(i[0]),!1),i=[o];var n=this.$ele.querySelector(".vscomp-option.selected");n&&this.toggleClass(n,"selected",!1),this.closeDropbox()}this.toggleClass(t,"selected")}else this.multiple&&(this.toggleClass(t,"selected"),this.removeItemFromArray(i,o),this.toggleAllOptionsClass(!1));this.hasClass(t,"current-new")&&this.beforeSelectNewValue(),this.setValue(i,!0)}else this.closeDropbox()}}},{key:"selectFocusedOption",value:function(){this.selectOption(this.$dropbox.querySelector(".vscomp-option.focused"))}},{key:"toggleAllOptions",value:function(t){if(this.multiple){"boolean"!=typeof t&&(t=!this.hasClass(this.$toggleAllOptions,"checked"));var e=[];this.options.forEach((function(i){i.isDisabled||i.isCurrentNew||(i.isSelected=t,t&&e.push(i.value))})),this.setValue(e,!0),this.toggleAllOptionsClass(t),this.renderOptions()}}},{key:"toggleAllOptionsClass",value:function(t){"boolean"!=typeof t&&(t=!1,this.options.length&&(t=!this.options.some((function(t){return!t.isSelected&&!t.isDisabled})))),this.toggleClass(this.$toggleAllOptions,"checked",t),this.isAllSelected=t}},{key:"toggleFocusedProp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.focusedOptionIndex&&this.setOptionProp(this.focusedOptionIndex,"isFocused",!1),this.setOptionProp(t,"isFocused",e),this.focusedOptionIndex=t}},{key:"toggleSelectedProp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setOptionProp(t,"isSelected",e)}},{key:"scrollToTop",value:function(){var t=!this.isOpened();t&&this.openDropbox(!0),this.$optionsContainer.scrollTop>0&&(this.$optionsContainer.scrollTop=0),t&&this.closeDropbox(!0)}},{key:"reset",value:function(){this.options.forEach((function(t){t.isSelected=!1})),this.setValue(null,!0),this.afterValueSet(!0)}},{key:"afterValueSet",value:function(t){this.scrollToTop(),this.toggleAllOptionsClass(!t&&void 0),this.setSearchValue(""),this.renderOptions()}},{key:"addOption",value:function(t){t&&(this.lastOptionIndex++,t.index=this.lastOptionIndex,this.options.push(this.getOptionObj(t)))}},{key:"removeOption",value:function(t){(t||0==t)&&(this.options.splice(t,1),this.lastOptionIndex--)}},{key:"removeNewOption",value:function(){var t=this.getNewOption();t&&this.removeOption(t.index)}},{key:"beforeSelectNewValue",value:function(){var t=this,e=this.getNewOption().index;this.setOptionProp(e,"isCurrentNew",!1),this.setOptionProp(e,"isNew",!0),setTimeout((function(){t.setSearchValue(""),t.focusSearchInput()}),0)}},{key:"addClass",value:function(t,e){t&&(e=e.split(" "),this.getElements(t).forEach((function(t){var i;(i=t.classList).add.apply(i,s(e))})))}},{key:"removeClass",value:function(t,e){t&&(e=e.split(" "),this.getElements(t).forEach((function(t){var i;(i=t.classList).remove.apply(i,s(e))})))}},{key:"toggleClass",value:function(t,e,i){var o;if(t)return void 0!==i&&(i=Boolean(i)),this.getElements(t).forEach((function(t){o=t.classList.toggle(e,i)})),o}},{key:"hasClass",value:function(t,e){return!!t&&t.classList.contains(e)}},{key:"isEmpty",value:function(t){var e=!1;return t?Array.isArray(t)?0===t.length&&(e=!0):"object"===o(t)&&0===Object.keys(t).length&&(e=!0):e=!0,e}},{key:"isNotEmpty",value:function(t){return!this.isEmpty(t)}},{key:"setData",value:function(t,e,i){t&&(t.dataset[e]=i)}},{key:"getStyleText",value:function(t,e){var i="";for(var o in t)i+="".concat(o,": ").concat(t[o],";");return i&&!e&&(i='style="'.concat(i,'"')),i}},{key:"getElements",value:function(t){if(t)return void 0===t.length&&(t=[t]),t}},{key:"getData",value:function(t,e,i){if(t){var o=t?t.dataset[e]:"";return"number"===i?o=parseFloat(o)||0:"true"===o?o=!0:"false"===o&&(o=!1),o}}},{key:"removeItemFromArray",value:function(t,e,i){if(!Array.isArray(t)||!t.length||!e)return t;i&&(t=s(t));var o=t.indexOf(e);return-1!==o&&t.splice(o,1),t}},{key:"removeArrayEmpty",value:function(t){return Array.isArray(t)&&t.length?t.filter((function(t){return!!t})):[]}},{key:"getMoreVisibleSides",value:function(t){if(!t)return{};var e=t.getBoundingClientRect(),i=window.innerWidth,o=window.innerHeight,s=e.left,n=e.top;return{horizontal:s>i-s-e.width?"left":"right",vertical:n>o-n-e.height?"top":"bottom"}}},{key:"getSibling",value:function(t,e){var i="next"===e?"nextElementSibling":"previousElementSibling";do{t&&(t=t[i])}while(this.hasClass(t,"disabled"));return t}},{key:"getAttributesText",value:function(t){var e="";if(!t)return e;for(var i in t)e+=" ".concat(i,'="').concat(t[i],'" ');return e}},{key:"convertToBoolean",value:function(t){return!0===t||"true"===t}}])&&a(e.prototype,i),l&&a(e,l),t}();document.addEventListener("reset",u.resetForm),window.VirtualSelect=u}},e={};function i(o){if(e[o])return e[o].exports;var s=e[o]={exports:{}};return t[o](s,s.exports,i),s.exports}i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i("./src/virtual-select.js")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXJ0dWFsLXNlbGVjdC8uL3NyYy92aXJ0dWFsLXNlbGVjdC5qcyIsIndlYnBhY2s6Ly92aXJ0dWFsLXNlbGVjdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly92aXJ0dWFsLXNlbGVjdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdmlydHVhbC1zZWxlY3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly92aXJ0dWFsLXNlbGVjdC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3ZpcnR1YWwtc2VsZWN0L3dlYnBhY2svc3RhcnR1cCJdLCJuYW1lcyI6WyJrZXlEb3duTWV0aG9kTWFwcGluZyIsIjEzIiwiMjciLCIzOCIsIjQwIiwiVmlydHVhbFNlbGVjdCIsIm9wdGlvbnMiLCJ0aGlzIiwic2V0UHJvcHMiLCJzZXREaXNhYmxlZE9wdGlvbnMiLCJkaXNhYmxlZE9wdGlvbnMiLCJzZXRPcHRpb25zIiwicmVuZGVyIiwiYWRkRXZlbnRzIiwic2V0TWV0aG9kcyIsInNlbGVjdGVkVmFsdWUiLCJzZXRWYWx1ZU1ldGhvZCIsInNpbGVudEluaXRpYWxWYWx1ZVNldCIsImUiLCJjb25zb2xlIiwid2FybiIsImVycm9yIiwiJGVsZUFycmF5IiwiZWxlIiwic2luZ2xlRWxlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidW5kZWZpbmVkIiwibGVuZ3RoIiwiaW5zdGFuY2VzIiwiZm9yRWFjaCIsIiRlbGUiLCJwdXNoIiwiJGVsZVRvS2VlcE9wZW4iLCJxdWVyeVNlbGVjdG9yQWxsIiwicGFyZW50RWxlbWVudCIsInZpcnR1YWxTZWxlY3QiLCJjbG9zZURyb3Bib3giLCIkZm9ybSIsInRhcmdldCIsImNsb3Nlc3QiLCJyZXNldCIsInZhbHVlIiwic2lsZW50Q2hhbmdlIiwic2V0T3B0aW9uc01ldGhvZCIsInNldERpc2FibGVkT3B0aW9uc01ldGhvZCIsImlzU2VsZWN0ZWQiLCJ0b2dnbGVBbGxPcHRpb25zIiwiaXNBbGxTZWxlY3RlZCIsIndyYXBwZXJDbGFzc2VzIiwidmFsdWVUb29sdGlwIiwiZ2V0VG9vbHRpcEF0dHJUZXh0IiwiY2xlYXJCdXR0b25Ub29sdGlwIiwib3B0aW9uc1N0eWxlVGV4dCIsImdldFN0eWxlVGV4dCIsIm9wdGlvbnNIZWlnaHQiLCJkcm9wYm94U3R5bGUiLCJ6SW5kZXgiLCJkcm9wYm94V2lkdGgiLCJ3aWR0aCIsIm11bHRpcGxlIiwicG9zaXRpb24iLCJoaWRlQ2xlYXJCdXR0b24iLCJodG1sIiwicGxhY2Vob2xkZXIiLCJub09wdGlvbnNUZXh0Iiwibm9TZWFyY2hSZXN1bHRzVGV4dCIsImlubmVySFRNTCIsIiR3cmFwcGVyIiwiJHRvZ2dsZUJ1dHRvbiIsIiRjbGVhckJ1dHRvbiIsIiRkcm9wYm94IiwiJHNlYXJjaCIsIiRvcHRpb25zQ29udGFpbmVyIiwiJG9wdGlvbnNMaXN0IiwiJG9wdGlvbnMiLCIkdmFsdWVUZXh0IiwiYWRkQ2xhc3MiLCJyZW5kZXJTZWFyY2giLCJzZXRPcHRpb25zSGVpZ2h0Iiwic2V0VmlzaWJsZU9wdGlvbnMiLCJ2aXNpYmxlT3B0aW9ucyIsImdldFZpc2libGVPcHRpb25zIiwiY2hlY2tib3hIdG1sIiwibmV3T3B0aW9uSWNvbkh0bWwiLCJzdHlsZVRleHQiLCJoZWlnaHQiLCJvcHRpb25IZWlnaHQiLCJhbGxvd05ld09wdGlvbiIsIm5ld09wdGlvblRvb2x0aXAiLCJkIiwib3B0aW9uTGFiZWwiLCJsYWJlbCIsIm9wdGlvbkNsYXNzZXMiLCJvcHRpb25Ub29sdGlwIiwicmlnaHRTZWN0aW9uIiwiaXNGb2N1c2VkIiwiaXNEaXNhYmxlZCIsImlzQ3VycmVudE5ldyIsImluZGV4IiwidmlzaWJsZUluZGV4IiwiaGFzTm9PcHRpb25zIiwiaGFzTm9TZWFyY2hSZXN1bHRzIiwidG9nZ2xlQ2xhc3MiLCJzZXRPcHRpb25zUG9zaXRpb24iLCJzZXRPcHRpb25zVG9vbHRpcCIsIm1vdmVGb2N1c2VkT3B0aW9uVG9WaWV3IiwiaGFzU2VhcmNoIiwiJHNlYXJjaElucHV0IiwiJHNlYXJjaENsZWFyIiwiJHRvZ2dsZUFsbE9wdGlvbnMiLCJhZGRFdmVudCIsImV2ZW50cyIsIm1ldGhvZCIsInJlbW92ZUFycmF5RW1wdHkiLCJzcGxpdCIsImV2ZW50IiwiZXZlbnRzS2V5IiwiY2FsbGJhY2siLCJiaW5kIiwiZ2V0RWxlbWVudHMiLCJfdGhpcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudE5hbWUiLCJzZXRUaW1lb3V0IiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50IiwiYnViYmxlcyIsImNsb3NlQWxsRHJvcGJveCIsImtleSIsIndoaWNoIiwia2V5Q29kZSIsImlzT3BlbmVkIiwic2VsZWN0Rm9jdXNlZE9wdGlvbiIsIm9wZW5Ecm9wYm94IiwicHJldmVudERlZmF1bHQiLCJmb2N1c09wdGlvbiIsInRvZ2dsZURyb3Bib3giLCJzZWxlY3RPcHRpb24iLCJyZW1vdmVPcHRpb25Gb2N1cyIsInN0b3BQcm9wYWdhdGlvbiIsInNldFNlYXJjaFZhbHVlIiwiZm9jdXNTZWFyY2hJbnB1dCIsInNldERlZmF1bHRQcm9wcyIsInNldFByb3BzRnJvbUVsZW1lbnRBdHRyIiwidmFsdWVLZXkiLCJsYWJlbEtleSIsIm9wdGlvbnNDb3VudCIsInBhcnNlSW50IiwiaGFsZk9wdGlvbnNDb3VudCIsIk1hdGgiLCJjZWlsIiwib3B0aW9uSGVpZ2h0VGV4dCIsInBhcnNlRmxvYXQiLCJjb252ZXJ0VG9Cb29sZWFuIiwic2VhcmNoIiwibWFya1NlYXJjaFJlc3VsdHMiLCJub09mRGlzcGxheVZhbHVlcyIsInNlbGVjdGVkVmFsdWVzIiwidG9vbHRpcEVudGVyRGVsYXkiLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJzZWFyY2hWYWx1ZSIsInNlYXJjaFZhbHVlT3JpZ2luYWwiLCJPYmplY3QiLCJhc3NpZ24iLCJtYXBwaW5nIiwiayIsImdldEF0dHJpYnV0ZSIsInNldFZhbHVlIiwidG9nZ2xlU2VsZWN0QWxsIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwidiIsInRvU3RyaW5nIiwidmFsaWRWYWx1ZXMiLCJpbmRleE9mIiwiYWZ0ZXJWYWx1ZVNldCIsInNldE9wdGlvbnNQcm9wIiwiaGFzRGlzYWJsZWRPcHRpb25zIiwidmlzaWJsZU9wdGlvbnNDb3VudCIsImkiLCJvcHRpb24iLCJpc1Zpc2libGUiLCJsYXN0T3B0aW9uSW5kZXgiLCJtYXhPcHRpb25zVG9TaG93Iiwic3RhcnRJbmRleCIsImdldFZpc2libGVTdGFydEluZGV4IiwibmV3T3B0aW9uIiwiZ2V0TmV3T3B0aW9uIiwiZW5kSW5kZXgiLCJmaWx0ZXIiLCJpblZpZXciLCJyZW5kZXJPcHRpb25zIiwidG9wIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJzZXREYXRhIiwiJG9wdGlvbkVsZSIsInRyaWdnZXJFdmVudCIsInNldFZhbHVlVGV4dCIsImlzTm90RW1wdHkiLCJ2YWx1ZVRleHQiLCJzZWxlY3RlZFZhbHVlc0NvdW50IiwibW9yZVNlbGVjdGVkT3B0aW9ucyIsImpvaW4iLCJza2lwSW5wdXRTZXQiLCJ0b0xvd2VyQ2FzZSIsInRyaW0iLCJoYXNFeGFjdE9wdGlvbiIsInJlcGxhY2UiLCJzdWJzdHIiLCJzZXROZXdPcHRpb24iLCJyZW1vdmVOZXdPcHRpb24iLCJzY3JvbGxUb1RvcCIsIm1vcmVWaXNpYmxlU2lkZXMiLCJnZXRNb3JlVmlzaWJsZVNpZGVzIiwic2hvd09uTGVmdCIsImJ1dHRvbkNvb3JkcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInZpZXdwb3J0V2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaGlkZGVuT25SaWdodCIsImxlZnQiLCJoaWRkZW5PbkxlZnQiLCJyaWdodCIsInZlcnRpY2FsIiwibmV3SW5kZXgiLCJzZXRPcHRpb25Qcm9wIiwiZGF0YSIsImFkZE9wdGlvbiIsImdldE9wdGlvbk9iaiIsInNjcm9sbFRvcCIsImdldEZpcnN0VmlzaWJsZU9wdGlvbkluZGV4IiwidGV4dCIsImVsbGlwc2lzT25seSIsImdldEF0dHJpYnV0ZXNUZXh0IiwibGFzdE9wdGlvbiIsInNvbWUiLCJpc1NpbGVudCIsInNldERyb3Bib3hQb3NpdGlvbiIsInJlbW92ZUNsYXNzIiwiaGFzQ2xhc3MiLCJmb2N1cyIsImRpcmVjdGlvbiIsIiRuZXdGb2N1c2VkRWxlIiwiJGZvY3VzZWRFbGUiLCJnZXRTaWJsaW5nIiwiZmlyc3RWaXNpYmxlT3B0aW9uSW5kZXgiLCJ0b2dnbGVGb2N1c2VkUHJvcCIsImdldERhdGEiLCJuZXdTY3JvbGxUb3AiLCJjb250YWluZXJSZWN0Iiwib3B0aW9uUmVjdCIsImNvbnRhaW5lclRvcCIsImNvbnRhaW5lckJvdHRvbSIsImJvdHRvbSIsImNvbnRhaW5lckhlaWdodCIsIm9wdGlvblRvcCIsIm9wdGlvbkJvdHRvbSIsIm9wdGlvbk9mZnNldFRvcCIsIm9mZnNldFRvcCIsIm9wdGlvbnNUb3AiLCJpc0FkZGluZyIsInNlbGVjdGVkSW5kZXgiLCJ0b2dnbGVTZWxlY3RlZFByb3AiLCJ0b2dnbGVBbGxPcHRpb25zQ2xhc3MiLCJnZXRPcHRpb25JbmRleCIsIiRwcmV2U2VsZWN0ZWRPcHRpb24iLCJyZW1vdmVJdGVtRnJvbUFycmF5IiwiYmVmb3JlU2VsZWN0TmV3VmFsdWUiLCJmb2N1c2VkT3B0aW9uSW5kZXgiLCJpc0Nsb3NlZCIsImlzUmVzZXQiLCJzcGxpY2UiLCJyZW1vdmVPcHRpb24iLCJjbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJpc0FkZCIsImlzQWRkZWQiLCJCb29sZWFuIiwidG9nZ2xlIiwiY29udGFpbnMiLCJyZXN1bHQiLCJrZXlzIiwiaXNFbXB0eSIsIm5hbWUiLCJkYXRhc2V0IiwicHJvcHMiLCJza2lwQXR0ck5hbWUiLCJ0eXBlIiwiYXJyYXkiLCJjbG9uZUFycmF5IiwiYm94IiwiYXZhaWxhYmxlV2lkdGgiLCJhdmFpbGFibGVIZWlnaHQiLCJpbm5lckhlaWdodCIsImxlZnRBcmVhIiwidG9wQXJlYSIsImhvcml6b250YWwiLCJwcm9wTmFtZSIsInJlc2V0Rm9ybSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OzRyQ0FBQSxJQUFNQSxFQUF1QixDQUMzQkMsR0FBSSxlQUNKQyxHQUFJLGFBQ0pDLEdBQUksaUJBQ0pDLEdBQUksb0JBSU9DLEVBQWIsV0EyQkUsV0FBWUMsSSw0RkFBUyxTQUNuQixJQUNFQyxLQUFLQyxTQUFTRixHQUNkQyxLQUFLRSxtQkFBbUJILEVBQVFJLGlCQUNoQ0gsS0FBS0ksV0FBV0wsRUFBUUEsU0FDeEJDLEtBQUtLLFNBQ0xMLEtBQUtNLFlBQ0xOLEtBQUtPLGFBRURSLEVBQVFTLGVBQ1ZSLEtBQUtTLGVBQWVWLEVBQVFTLGNBQWVSLEtBQUtVLHVCQUVsRCxNQUFPQyxHQUNQQyxRQUFRQyxLQUFSLG9DQUNBRCxRQUFRRSxNQUFNSCxJLFVBekNwQixPLEVBQUEsRSxFQUFBLDRCQWcyQ2NaLEdBQ1YsSUFBSWdCLEVBQVloQixFQUFRaUIsSUFFeEIsR0FBS0QsRUFBTCxDQUlBLElBQUlFLEdBQVksRUFFaEIsR0FBeUIsaUJBQWRGLElBQ1RBLEVBQVlHLFNBQVNDLGNBQWNKLElBRHJDLE1BUXlCSyxJQUFyQkwsRUFBVU0sU0FDWk4sRUFBWSxDQUFDQSxHQUNiRSxHQUFZLEdBR2QsSUFBSUssRUFBWSxHQU1oQixPQUxBUCxFQUFVUSxTQUFRLFNBQUNDLEdBQ2pCekIsRUFBUWlCLElBQU1RLEVBQ2RGLEVBQVVHLEtBQUssSUFBSTNCLEVBQWNDLE9BRzVCa0IsRUFBWUssRUFBVSxHQUFLQSxNQTUzQ3RDLHND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T0FBTyxLQ0h2RHdRLEVBQW9CLDRCIiwiZmlsZSI6InZpcnR1YWwtc2VsZWN0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGtleURvd25NZXRob2RNYXBwaW5nID0ge1xyXG4gIDEzOiAnb25FbnRlclByZXNzJyxcclxuICAyNzogJ29uRXNjUHJlc3MnLFxyXG4gIDM4OiAnb25VcEFycm93UHJlc3MnLFxyXG4gIDQwOiAnb25Eb3duQXJyb3dQcmVzcycsXHJcbn07XHJcblxyXG4vKiogQ2xhc3MgcmVwcmVzZW50aW5nIFZpcnR1YWxTZWxlY3QgKi9cclxuZXhwb3J0IGNsYXNzIFZpcnR1YWxTZWxlY3Qge1xyXG4gIC8qKlxyXG4gICAqIENyZWF0ZSBhIFZpcnR1YWxTZWxlY3RcclxuICAgKiBAcHJvcGVydHkgeyhlbGVtZW50fHN0cmluZyl9IGVsZSAtIFBhcmVudCBlbGVtZW50IHRvIHJlbmRlciBWaXJ0dWFsU2VsZWN0XHJcbiAgICogQHByb3BlcnR5IHtvYmplY3RbXX0gb3B0aW9ucyAtIEFycmF5IG9mIG9iamVjdCB0byBzaG93IGFzIG9wdGlvbnNcclxuICAgKiBAcHJvcGVydHkgeyhzdHJpbmd8bnVtYmVyKX0gb3B0aW9uc1tdLnZhbHVlIC0gVmFsdWUgb2YgdGhlIG9wdGlvblxyXG4gICAqIEBwcm9wZXJ0eSB7KHN0cmluZ3xudW1iZXIpfSBvcHRpb25zW10ubGFiZWwgLSBEaXNwbGF5IHRleHQgb2YgdGhlIG9wdGlvblxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdmFsdWVLZXk9dmFsdWVdIC0gS2V5IG5hbWUgdG8gZ2V0IHZhbHVlIGZyb20gb3B0aW9ucyBvYmplY3RcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2xhYmVsS2V5PWxhYmVsXSAtIEtleSBuYW1lIHRvIGdldCBkaXNwbGF5IHRleHQgZnJvbSBvcHRpb25zIG9iamVjdFxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW211bHRpcGxlPWZhbHNlXSAtIEVuYWJsZSBtdWx0aXNlbGVjdFxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NlYXJjaD1mYWxzZV0gLSBFbmFibGUgc2VhcmNoXHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbaGlkZUNsZWFyQnV0dG9uPWZhbHNlXSAtIEhpZGUgY2xlYXIgYnV0dG9uXHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtvcHRpb25zQ291bnQ9NV0gLSBOby5vZiBvcHRpb25zIHRvIHNob3cgb24gdmlld3BvcnRcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW29wdGlvbkhlaWdodD00MHB4XSAtIEhlaWdodCBvZiBlYWNoIGRyb3Bkb3duIG9wdGlvbnNcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3Bvc2l0aW9uPWF1dG9dIC0gUG9zaXRpb24gb2YgZHJvcGJveCAodG9wLCBib3R0b20sIGF1dG8pXHJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtwbGFjZWhvbGRlcj1TZWxlY3RdIC0gVGV4dCB0byBzaG93IHdoZW4gbm8gb3B0aW9ucyBzZWxlY3RlZFxyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbm9PcHRpb25zVGV4dD1ObyBvcHRpb25zIGZvdW5kXSAtIFRleHQgdG8gc2hvdyB3aGVuIG5vIG9wdGlvbnMgdG8gc2hvd1xyXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbm9TZWFyY2hSZXN1bHRzVGV4dD1ObyByZXN1bHRzIGZvdW5kXSAtIFRleHQgdG8gc2hvdyB3aGVuIG5vIHJlc3VsdHMgb24gc2VhcmNoXHJcbiAgICogQHByb3BlcnR5IHthcnJheX0gW2Rpc2FibGVkT3B0aW9uc10gLSBPcHRpb25zIHRvIGRpc2FibGUgKGFycmF5IG9mIHZhbHVlcylcclxuICAgKiBAcHJvcGVydHkgeyhzdHJpbmd8YXJyYXkpfSBbc2VsZWN0ZWRWYWx1ZV0gLSBTaW5nbGUgdmFsdWUgb3IgYXJyYXkgb2YgdmFsdWVzIHRvIHNlbGVjdCBvbiBpbml0XHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2lsZW50SW5pdGlhbFZhbHVlU2V0PWZhbHNlXSAtIFRvIGF2b2lkIFwiY2hhbmdlIGV2ZW50XCIgdHJpZ2dlciBvbiBzZXR0aW5nIGluaXRpYWwgdmFsdWVcclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2Ryb3Bib3hXaWR0aF0gLSBDdXN0b20gd2lkdGggZm9yIGRyb3Bib3hcclxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW3pJbmRleD0xXSAtIENTUyB6LWluZGV4IHZhbHVlIGZvciBkcm9wYm94XHJcbiAgICogQHByb3BlcnR5IHtudW1iZXJ9IFtub09mRGlzcGxheVZhbHVlcz01MF0gLSBNYXhpbXVtIG5vLm9mIHZhbHVlcyB0byBzaG93IGluIHRoZSB0b29sdGlwIGZvciBtdWx0aS1zZWxlY3RcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFthbGxvd05ld09wdGlvbj1mYWxzZV0gLSBBbGxvdyB0byBhZGQgbmV3IG9wdGlvbiBieSBzZWFyY2hpbmdcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFttYXJrU2VhcmNoUmVzdWx0cz1mYWxzZV0gLSBNYXJrIG1hdGNoZWQgdGVybSBpbiBsYWJlbFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMuc2V0UHJvcHMob3B0aW9ucyk7XHJcbiAgICAgIHRoaXMuc2V0RGlzYWJsZWRPcHRpb25zKG9wdGlvbnMuZGlzYWJsZWRPcHRpb25zKTtcclxuICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMub3B0aW9ucyk7XHJcbiAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICAgIHRoaXMuYWRkRXZlbnRzKCk7XHJcbiAgICAgIHRoaXMuc2V0TWV0aG9kcygpO1xyXG5cclxuICAgICAgaWYgKG9wdGlvbnMuc2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMuc2V0VmFsdWVNZXRob2Qob3B0aW9ucy5zZWxlY3RlZFZhbHVlLCB0aGlzLnNpbGVudEluaXRpYWxWYWx1ZVNldCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS53YXJuKGBDb3VsZG4ndCBpbml0aWF0ZSBWaXJ0dWFsIFNlbGVjdGApO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqIHJlbmRlciBtZXRob2RzIC0gc3RhcnQgKi9cclxuICByZW5kZXIoKSB7XHJcbiAgICBpZiAoIXRoaXMuJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHdyYXBwZXJDbGFzc2VzID0gJ3ZzY29tcC13cmFwcGVyIGNsb3NlZCc7XHJcbiAgICBsZXQgdmFsdWVUb29sdGlwID0gdGhpcy5nZXRUb29sdGlwQXR0clRleHQoJycsIHRydWUpO1xyXG4gICAgbGV0IGNsZWFyQnV0dG9uVG9vbHRpcCA9IHRoaXMuZ2V0VG9vbHRpcEF0dHJUZXh0KCdDbGVhcicpO1xyXG4gICAgbGV0IG9wdGlvbnNTdHlsZVRleHQgPSB0aGlzLmdldFN0eWxlVGV4dCh7XHJcbiAgICAgICdtYXgtaGVpZ2h0JzogdGhpcy5vcHRpb25zSGVpZ2h0LFxyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IGRyb3Bib3hTdHlsZSA9IHtcclxuICAgICAgJ3otaW5kZXgnOiB0aGlzLnpJbmRleCxcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHRoaXMuZHJvcGJveFdpZHRoKSB7XHJcbiAgICAgIGRyb3Bib3hTdHlsZS53aWR0aCA9IHRoaXMuZHJvcGJveFdpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgIHdyYXBwZXJDbGFzc2VzICs9ICcgbXVsdGlwbGUnO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnBvc2l0aW9uID09PSAndG9wJykge1xyXG4gICAgICB3cmFwcGVyQ2xhc3NlcyArPSAnIHBvc2l0aW9uLXRvcCc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCF0aGlzLmhpZGVDbGVhckJ1dHRvbikge1xyXG4gICAgICB3cmFwcGVyQ2xhc3NlcyArPSAnIGhhcy1jbGVhci1idXR0b24nO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBodG1sID0gYDxkaXYgY2xhc3M9XCIke3dyYXBwZXJDbGFzc2VzfVwiIHRhYmluZGV4PVwiMFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtdG9nZ2xlLWJ1dHRvblwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInZzY29tcC12YWx1ZVwiICR7dmFsdWVUb29sdGlwfT5cclxuICAgICAgICAgICAgJHt0aGlzLnBsYWNlaG9sZGVyfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLWFycm93XCI+PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLWNsZWFyLWJ1dHRvbiB0b2dnbGUtYnV0dG9uLWNoaWxkXCIgJHtjbGVhckJ1dHRvblRvb2x0aXB9PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInZzY29tcC1kcm9wYm94XCIgJHt0aGlzLmdldFN0eWxlVGV4dChkcm9wYm94U3R5bGUpfT5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtc2VhcmNoLXdyYXBwZXJcIj48L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtb3B0aW9ucy1jb250YWluZXJcIiAke29wdGlvbnNTdHlsZVRleHR9PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLW9wdGlvbnMtbGlzdFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2c2NvbXAtb3B0aW9uc1wiPjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInZzY29tcC1uby1vcHRpb25zXCI+JHt0aGlzLm5vT3B0aW9uc1RleHR9PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidnNjb21wLW5vLXNlYXJjaC1yZXN1bHRzXCI+JHt0aGlzLm5vU2VhcmNoUmVzdWx0c1RleHR9PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PmA7XHJcblxyXG4gICAgdGhpcy4kZWxlLmlubmVySFRNTCA9IGh0bWw7XHJcbiAgICB0aGlzLiR3cmFwcGVyID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtd3JhcHBlcicpO1xyXG4gICAgdGhpcy4kdG9nZ2xlQnV0dG9uID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtdG9nZ2xlLWJ1dHRvbicpO1xyXG4gICAgdGhpcy4kY2xlYXJCdXR0b24gPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1jbGVhci1idXR0b24nKTtcclxuICAgIHRoaXMuJGRyb3Bib3ggPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1kcm9wYm94Jyk7XHJcbiAgICB0aGlzLiRzZWFyY2ggPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1zZWFyY2gtd3JhcHBlcicpO1xyXG4gICAgdGhpcy4kb3B0aW9uc0NvbnRhaW5lciA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKCcudnNjb21wLW9wdGlvbnMtY29udGFpbmVyJyk7XHJcbiAgICB0aGlzLiRvcHRpb25zTGlzdCA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKCcudnNjb21wLW9wdGlvbnMtbGlzdCcpO1xyXG4gICAgdGhpcy4kb3B0aW9ucyA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKCcudnNjb21wLW9wdGlvbnMnKTtcclxuICAgIHRoaXMuJHZhbHVlVGV4dCA9IHRoaXMuJGVsZS5xdWVyeVNlbGVjdG9yKCcudnNjb21wLXZhbHVlJyk7XHJcblxyXG4gICAgdGhpcy5hZGRDbGFzcyh0aGlzLiRlbGUsICd2c2NvbXAtZWxlJyk7XHJcbiAgICB0aGlzLnJlbmRlclNlYXJjaCgpO1xyXG4gICAgdGhpcy5zZXRPcHRpb25zSGVpZ2h0KCk7XHJcbiAgICB0aGlzLnNldFZpc2libGVPcHRpb25zKCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJPcHRpb25zKCkge1xyXG4gICAgbGV0IGh0bWwgPSAnJztcclxuICAgIGxldCB2aXNpYmxlT3B0aW9ucyA9IHRoaXMuZ2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuICAgIGxldCBjaGVja2JveEh0bWwgPSAnJztcclxuICAgIGxldCBuZXdPcHRpb25JY29uSHRtbCA9ICcnO1xyXG4gICAgbGV0IHN0eWxlVGV4dCA9IHRoaXMuZ2V0U3R5bGVUZXh0KHtcclxuICAgICAgaGVpZ2h0OiB0aGlzLm9wdGlvbkhlaWdodCArICdweCcsXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAodGhpcy5tdWx0aXBsZSkge1xyXG4gICAgICBjaGVja2JveEh0bWwgPSAnPHNwYW4gY2xhc3M9XCJjaGVja2JveC1pY29uXCI+PC9zcGFuPic7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuYWxsb3dOZXdPcHRpb24pIHtcclxuICAgICAgbGV0IG5ld09wdGlvblRvb2x0aXAgPSB0aGlzLmdldFRvb2x0aXBBdHRyVGV4dCgnTmV3IE9wdGlvbicpO1xyXG4gICAgICBuZXdPcHRpb25JY29uSHRtbCA9IGA8c3BhbiBjbGFzcz1cInZzY29tcC1uZXctb3B0aW9uLWljb25cIiAke25ld09wdGlvblRvb2x0aXB9Pjwvc3Bhbj5gO1xyXG4gICAgfVxyXG5cclxuICAgIHZpc2libGVPcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgbGV0IG9wdGlvbkxhYmVsID0gZC5sYWJlbDtcclxuICAgICAgbGV0IG9wdGlvbkNsYXNzZXMgPSAndnNjb21wLW9wdGlvbic7XHJcbiAgICAgIGxldCBvcHRpb25Ub29sdGlwID0gdGhpcy5nZXRUb29sdGlwQXR0clRleHQoJycsIHRydWUpO1xyXG4gICAgICBsZXQgcmlnaHRTZWN0aW9uID0gJyc7XHJcblxyXG4gICAgICBpZiAoZC5pc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgb3B0aW9uQ2xhc3NlcyArPSAnIHNlbGVjdGVkJztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGQuaXNGb2N1c2VkKSB7XHJcbiAgICAgICAgb3B0aW9uQ2xhc3NlcyArPSAnIGZvY3VzZWQnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZC5pc0Rpc2FibGVkKSB7XHJcbiAgICAgICAgb3B0aW9uQ2xhc3NlcyArPSAnIGRpc2FibGVkJztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGQuaXNDdXJyZW50TmV3KSB7XHJcbiAgICAgICAgb3B0aW9uQ2xhc3NlcyArPSAnIGN1cnJlbnQtbmV3JztcclxuICAgICAgICByaWdodFNlY3Rpb24gKz0gbmV3T3B0aW9uSWNvbkh0bWw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9XCIke29wdGlvbkNsYXNzZXN9XCIgZGF0YS12YWx1ZT1cIiR7ZC52YWx1ZX1cIiBkYXRhLWluZGV4PVwiJHtkLmluZGV4fVwiIGRhdGEtdmlzaWJsZS1pbmRleD1cIiR7ZC52aXNpYmxlSW5kZXh9XCIgJHtzdHlsZVRleHR9PlxyXG4gICAgICAgICAgJHtjaGVja2JveEh0bWx9XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInZzY29tcC1vcHRpb24tdGV4dFwiICR7b3B0aW9uVG9vbHRpcH0+XHJcbiAgICAgICAgICAgICR7b3B0aW9uTGFiZWx9XHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAke3JpZ2h0U2VjdGlvbn1cclxuICAgICAgICA8L2Rpdj5gO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy4kb3B0aW9ucy5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgbGV0IGhhc05vT3B0aW9ucyA9ICF0aGlzLm9wdGlvbnMubGVuZ3RoO1xyXG4gICAgbGV0IGhhc05vU2VhcmNoUmVzdWx0cyA9ICFoYXNOb09wdGlvbnMgJiYgIXZpc2libGVPcHRpb25zLmxlbmd0aDtcclxuXHJcbiAgICBpZiAoIXRoaXMuYWxsb3dOZXdPcHRpb24pIHtcclxuICAgICAgdGhpcy50b2dnbGVDbGFzcyh0aGlzLiR3cmFwcGVyLCAnaGFzLW5vLXNlYXJjaC1yZXN1bHRzJywgaGFzTm9TZWFyY2hSZXN1bHRzKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRvZ2dsZUNsYXNzKHRoaXMuJHdyYXBwZXIsICdoYXMtbm8tb3B0aW9ucycsIGhhc05vT3B0aW9ucyk7XHJcbiAgICB0aGlzLnNldE9wdGlvbnNQb3NpdGlvbigpO1xyXG4gICAgdGhpcy5zZXRPcHRpb25zVG9vbHRpcCgpO1xyXG4gICAgdGhpcy5tb3ZlRm9jdXNlZE9wdGlvblRvVmlldygpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyU2VhcmNoKCkge1xyXG4gICAgaWYgKCF0aGlzLmhhc1NlYXJjaCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNoZWNrYm94SHRtbCA9ICcnO1xyXG5cclxuICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgIGNoZWNrYm94SHRtbCA9ICc8c3BhbiBjbGFzcz1cImNoZWNrYm94LWljb24gdG9nZ2xlLWFsbC1vcHRpb25zXCI+PC9zcGFuPic7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGh0bWwgPSBgPGRpdiBjbGFzcz1cInZzY29tcC1zZWFyY2gtY29udGFpbmVyXCI+XHJcbiAgICAgICAgJHtjaGVja2JveEh0bWx9XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJ2c2NvbXAtc2VhcmNoLWlucHV0XCIgcGxhY2Vob2xkZXI9XCJTZWFyY2guLi5cIj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cInZzY29tcC1zZWFyY2gtY2xlYXJcIj4mdGltZXM7PC9zcGFuPlxyXG4gICAgICA8L2Rpdj5gO1xyXG5cclxuICAgIHRoaXMuJHNlYXJjaC5pbm5lckhUTUwgPSBodG1sO1xyXG4gICAgdGhpcy4kc2VhcmNoSW5wdXQgPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1zZWFyY2gtaW5wdXQnKTtcclxuICAgIHRoaXMuJHNlYXJjaENsZWFyID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtc2VhcmNoLWNsZWFyJyk7XHJcbiAgICB0aGlzLiR0b2dnbGVBbGxPcHRpb25zID0gdGhpcy4kZWxlLnF1ZXJ5U2VsZWN0b3IoJy50b2dnbGUtYWxsLW9wdGlvbnMnKTtcclxuXHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJHNlYXJjaElucHV0LCAna2V5dXAgY2hhbmdlJywgJ29uU2VhcmNoJyk7XHJcbiAgICB0aGlzLmFkZEV2ZW50KHRoaXMuJHNlYXJjaENsZWFyLCAnY2xpY2snLCAnb25TZWFyY2hDbGVhcicpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiR0b2dnbGVBbGxPcHRpb25zLCAnY2xpY2snLCAnb25Ub2dnbGVBbGxPcHRpb25zJyk7XHJcbiAgfVxyXG4gIC8qKiByZW5kZXIgbWV0aG9kcyAtIGVuZCAqL1xyXG5cclxuICAvKiogZXZlbnQgbWV0aG9kcyAtIHN0YXJ0ICovXHJcbiAgYWRkRXZlbnRzKCkge1xyXG4gICAgdGhpcy5hZGRFdmVudChkb2N1bWVudCwgJ2NsaWNrJywgJ29uRG9jdW1lbnRDbGljaycpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiR3cmFwcGVyLCAna2V5ZG93bicsICdvbktleURvd24nKTtcclxuICAgIHRoaXMuYWRkRXZlbnQodGhpcy4kdG9nZ2xlQnV0dG9uLCAnY2xpY2snLCAnb25Ub2dnbGVCdXR0b25DbGljaycpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiRjbGVhckJ1dHRvbiwgJ2NsaWNrJywgJ29uQ2xlYXJCdXR0b25DbGljaycpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiRvcHRpb25zQ29udGFpbmVyLCAnc2Nyb2xsJywgJ29uT3B0aW9uc1Njcm9sbCcpO1xyXG4gICAgdGhpcy5hZGRFdmVudCh0aGlzLiRvcHRpb25zLCAnY2xpY2snLCAnb25PcHRpb25zQ2xpY2snKTtcclxuICAgIHRoaXMuYWRkRXZlbnQodGhpcy4kb3B0aW9ucywgJ21vdXNlb3ZlcicsICdvbk9wdGlvbnNNb3VzZU92ZXInKTtcclxuICAgIHRoaXMuYWRkRXZlbnQodGhpcy4kb3B0aW9ucywgJ3RvdWNobW92ZScsICdvbk9wdGlvbnNUb3VjaE1vdmUnKTtcclxuICB9XHJcblxyXG4gIGFkZEV2ZW50KCRlbGUsIGV2ZW50cywgbWV0aG9kKSB7XHJcbiAgICBpZiAoISRlbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGV2ZW50cyA9IHRoaXMucmVtb3ZlQXJyYXlFbXB0eShldmVudHMuc3BsaXQoJyAnKSk7XHJcblxyXG4gICAgZXZlbnRzLmZvckVhY2goKGV2ZW50KSA9PiB7XHJcbiAgICAgIGxldCBldmVudHNLZXkgPSBgJHttZXRob2R9LSR7ZXZlbnR9YDtcclxuICAgICAgbGV0IGNhbGxiYWNrID0gdGhpcy5ldmVudHNbZXZlbnRzS2V5XTtcclxuXHJcbiAgICAgIGlmICghY2FsbGJhY2spIHtcclxuICAgICAgICBjYWxsYmFjayA9IHRoaXNbbWV0aG9kXS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50c0tleV0gPSBjYWxsYmFjaztcclxuICAgICAgfVxyXG5cclxuICAgICAgJGVsZSA9IHRoaXMuZ2V0RWxlbWVudHMoJGVsZSk7XHJcblxyXG4gICAgICAkZWxlLmZvckVhY2goKF90aGlzKSA9PiB7XHJcbiAgICAgICAgX3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGlzcGF0Y2hFdmVudCgkZWxlLCBldmVudE5hbWUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgJGVsZSA9IHRoaXMuZ2V0RWxlbWVudHMoJGVsZSk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICRlbGUuZm9yRWFjaCgoX3RoaXMpID0+IHtcclxuICAgICAgICBfdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChldmVudE5hbWUsIHsgYnViYmxlczogdHJ1ZSB9KSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSwgMCk7XHJcbiAgfVxyXG5cclxuICBvbkRvY3VtZW50Q2xpY2soZSkge1xyXG4gICAgVmlydHVhbFNlbGVjdC5jbG9zZUFsbERyb3Bib3goZS50YXJnZXQuY2xvc2VzdCgnLnZzY29tcC13cmFwcGVyJykpO1xyXG4gIH1cclxuXHJcbiAgb25LZXlEb3duKGUpIHtcclxuICAgIGxldCBrZXkgPSBlLndoaWNoIHx8IGUua2V5Q29kZTtcclxuICAgIGxldCBtZXRob2QgPSBrZXlEb3duTWV0aG9kTWFwcGluZ1trZXldO1xyXG5cclxuICAgIGlmIChtZXRob2QpIHtcclxuICAgICAgdGhpc1ttZXRob2RdKGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25FbnRlclByZXNzKCkge1xyXG4gICAgaWYgKCF0aGlzLmlzT3BlbmVkKCkpIHtcclxuICAgICAgdGhpcy5vcGVuRHJvcGJveCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZWxlY3RGb2N1c2VkT3B0aW9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkVzY1ByZXNzKCkge1xyXG4gICAgaWYgKHRoaXMuaXNPcGVuZWQoKSkge1xyXG4gICAgICB0aGlzLmNsb3NlRHJvcGJveCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25Eb3duQXJyb3dQcmVzcyhlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNPcGVuZWQoKSkge1xyXG4gICAgICB0aGlzLmZvY3VzT3B0aW9uKCduZXh0Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm9wZW5Ecm9wYm94KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvblVwQXJyb3dQcmVzcyhlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgaWYgKHRoaXMuaXNPcGVuZWQoKSkge1xyXG4gICAgICB0aGlzLmZvY3VzT3B0aW9uKCdwcmV2aW91cycpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5vcGVuRHJvcGJveCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25Ub2dnbGVCdXR0b25DbGljayhlKSB7XHJcbiAgICBsZXQgY2hpbGRFbGUgPSBlLnRhcmdldC5jbG9zZXN0KCcudG9nZ2xlLWJ1dHRvbi1jaGlsZCcpO1xyXG5cclxuICAgIGlmIChjaGlsZEVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50b2dnbGVEcm9wYm94KCk7XHJcbiAgfVxyXG5cclxuICBvbkNsZWFyQnV0dG9uQ2xpY2soKSB7XHJcbiAgICB0aGlzLnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICBvbk9wdGlvbnNTY3JvbGwoKSB7XHJcbiAgICB0aGlzLnNldFZpc2libGVPcHRpb25zKCk7XHJcbiAgfVxyXG5cclxuICBvbk9wdGlvbnNDbGljayhlKSB7XHJcbiAgICB0aGlzLnNlbGVjdE9wdGlvbihlLnRhcmdldC5jbG9zZXN0KCcudnNjb21wLW9wdGlvbjpub3QoLmRpc2FibGVkKScpKTtcclxuICB9XHJcblxyXG4gIG9uT3B0aW9uc01vdXNlT3ZlcihlKSB7XHJcbiAgICBsZXQgJGVsZSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy52c2NvbXAtb3B0aW9uOm5vdCguZGlzYWJsZWQpJyk7XHJcblxyXG4gICAgaWYgKCRlbGUpIHtcclxuICAgICAgdGhpcy5mb2N1c09wdGlvbihudWxsLCAkZWxlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uT3B0aW9uc1RvdWNoTW92ZSgpIHtcclxuICAgIHRoaXMucmVtb3ZlT3B0aW9uRm9jdXMoKTtcclxuICB9XHJcblxyXG4gIG9uU2VhcmNoKGUpIHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB0aGlzLnNldFNlYXJjaFZhbHVlKGUudGFyZ2V0LnZhbHVlLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIG9uU2VhcmNoQ2xlYXIoKSB7XHJcbiAgICB0aGlzLnNldFNlYXJjaFZhbHVlKCcnKTtcclxuICAgIHRoaXMuZm9jdXNTZWFyY2hJbnB1dCgpO1xyXG4gIH1cclxuXHJcbiAgb25Ub2dnbGVBbGxPcHRpb25zKCkge1xyXG4gICAgdGhpcy50b2dnbGVBbGxPcHRpb25zKCk7XHJcbiAgfVxyXG4gIC8qKiBldmVudCBtZXRob2RzIC0gZW5kICovXHJcblxyXG4gIC8qKiBzZXQgbWV0aG9kcyAtIHN0YXJ0ICovXHJcbiAgc2V0UHJvcHMob3B0aW9ucykge1xyXG4gICAgb3B0aW9ucyA9IHRoaXMuc2V0RGVmYXVsdFByb3BzKG9wdGlvbnMpO1xyXG4gICAgdGhpcy5zZXRQcm9wc0Zyb21FbGVtZW50QXR0cihvcHRpb25zKTtcclxuXHJcbiAgICB0aGlzLiRlbGUgPSBvcHRpb25zLmVsZTtcclxuICAgIHRoaXMudmFsdWVLZXkgPSBvcHRpb25zLnZhbHVlS2V5O1xyXG4gICAgdGhpcy5sYWJlbEtleSA9IG9wdGlvbnMubGFiZWxLZXk7XHJcbiAgICB0aGlzLm9wdGlvbnNDb3VudCA9IHBhcnNlSW50KG9wdGlvbnMub3B0aW9uc0NvdW50KTtcclxuICAgIHRoaXMuaGFsZk9wdGlvbnNDb3VudCA9IE1hdGguY2VpbCh0aGlzLm9wdGlvbnNDb3VudCAvIDIpO1xyXG4gICAgdGhpcy5vcHRpb25IZWlnaHRUZXh0ID0gb3B0aW9ucy5vcHRpb25IZWlnaHQ7XHJcbiAgICB0aGlzLm9wdGlvbkhlaWdodCA9IHBhcnNlRmxvYXQodGhpcy5vcHRpb25IZWlnaHRUZXh0KTtcclxuICAgIHRoaXMubXVsdGlwbGUgPSB0aGlzLmNvbnZlcnRUb0Jvb2xlYW4ob3B0aW9ucy5tdWx0aXBsZSk7XHJcbiAgICB0aGlzLmhhc1NlYXJjaCA9IHRoaXMuY29udmVydFRvQm9vbGVhbihvcHRpb25zLnNlYXJjaCk7XHJcbiAgICB0aGlzLmhpZGVDbGVhckJ1dHRvbiA9IHRoaXMuY29udmVydFRvQm9vbGVhbihvcHRpb25zLmhpZGVDbGVhckJ1dHRvbik7XHJcbiAgICB0aGlzLnNpbGVudEluaXRpYWxWYWx1ZVNldCA9IHRoaXMuY29udmVydFRvQm9vbGVhbihvcHRpb25zLnNpbGVudEluaXRpYWxWYWx1ZVNldCk7XHJcbiAgICB0aGlzLmFsbG93TmV3T3B0aW9uID0gdGhpcy5jb252ZXJ0VG9Cb29sZWFuKG9wdGlvbnMuYWxsb3dOZXdPcHRpb24pO1xyXG4gICAgdGhpcy5tYXJrU2VhcmNoUmVzdWx0cyA9IHRoaXMuY29udmVydFRvQm9vbGVhbihvcHRpb25zLm1hcmtTZWFyY2hSZXN1bHRzKTtcclxuICAgIHRoaXMubm9PcHRpb25zVGV4dCA9IG9wdGlvbnMubm9PcHRpb25zVGV4dDtcclxuICAgIHRoaXMubm9TZWFyY2hSZXN1bHRzVGV4dCA9IG9wdGlvbnMubm9TZWFyY2hSZXN1bHRzVGV4dDtcclxuICAgIHRoaXMucGxhY2Vob2xkZXIgPSBvcHRpb25zLnBsYWNlaG9sZGVyO1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IG9wdGlvbnMucG9zaXRpb247XHJcbiAgICB0aGlzLmRyb3Bib3hXaWR0aCA9IG9wdGlvbnMuZHJvcGJveFdpZHRoO1xyXG4gICAgdGhpcy5ub09mRGlzcGxheVZhbHVlcyA9IHBhcnNlSW50KG9wdGlvbnMubm9PZkRpc3BsYXlWYWx1ZXMpO1xyXG4gICAgdGhpcy56SW5kZXggPSBwYXJzZUludChvcHRpb25zLnpJbmRleCk7XHJcbiAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gW107XHJcbiAgICB0aGlzLmV2ZW50cyA9IHt9O1xyXG4gICAgdGhpcy50b29sdGlwRW50ZXJEZWxheSA9IDIwMDtcclxuICAgIHRoaXMudHJhbnNpdGlvbkR1cmF0aW9uID0gMjUwO1xyXG4gICAgdGhpcy5zZWFyY2hWYWx1ZSA9ICcnO1xyXG4gICAgdGhpcy5zZWFyY2hWYWx1ZU9yaWdpbmFsID0gJyc7XHJcbiAgICB0aGlzLmlzQWxsU2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMub3B0aW9uc0hlaWdodCA9IHRoaXMub3B0aW9uc0NvdW50ICogdGhpcy5vcHRpb25IZWlnaHQgKyAncHgnO1xyXG5cclxuICAgIGlmICgob3B0aW9ucy5zZWFyY2ggPT09IHVuZGVmaW5lZCAmJiB0aGlzLm11bHRpcGxlKSB8fCB0aGlzLmFsbG93TmV3T3B0aW9uKSB7XHJcbiAgICAgIHRoaXMuaGFzU2VhcmNoID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldERlZmF1bHRQcm9wcyhvcHRpb25zKSB7XHJcbiAgICBsZXQgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgIHZhbHVlS2V5OiAndmFsdWUnLFxyXG4gICAgICBsYWJlbEtleTogJ2xhYmVsJyxcclxuICAgICAgb3B0aW9uc0NvdW50OiA1LFxyXG4gICAgICBub09mRGlzcGxheVZhbHVlczogNTAsXHJcbiAgICAgIG9wdGlvbkhlaWdodDogJzQwcHgnLFxyXG4gICAgICBtdWx0aXBsZTogZmFsc2UsXHJcbiAgICAgIGhpZGVDbGVhckJ1dHRvbjogZmFsc2UsXHJcbiAgICAgIHNpbGVudEluaXRpYWxWYWx1ZVNldDogZmFsc2UsXHJcbiAgICAgIG5vT3B0aW9uc1RleHQ6ICdObyBvcHRpb25zIGZvdW5kJyxcclxuICAgICAgbm9TZWFyY2hSZXN1bHRzVGV4dDogJ05vIHJlc3VsdHMgZm91bmQnLFxyXG4gICAgICBwbGFjZWhvbGRlcjogJ1NlbGVjdCcsXHJcbiAgICAgIHBvc2l0aW9uOiAnYXV0bycsXHJcbiAgICAgIHpJbmRleDogMSxcclxuICAgICAgYWxsb3dOZXdPcHRpb246IGZhbHNlLFxyXG4gICAgICBtYXJrU2VhcmNoUmVzdWx0czogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcclxuICB9XHJcblxyXG4gIHNldFByb3BzRnJvbUVsZW1lbnRBdHRyKG9wdGlvbnMpIHtcclxuICAgIGxldCAkZWxlID0gb3B0aW9ucy5lbGU7XHJcbiAgICBsZXQgbWFwcGluZyA9IHtcclxuICAgICAgbXVsdGlwbGU6ICdtdWx0aXBsZScsXHJcbiAgICAgIHBsYWNlaG9sZGVyOiAncGxhY2Vob2xkZXInLFxyXG4gICAgICAnZGF0YS1sYWJlbC1rZXknOiAnbGFiZWxLZXknLFxyXG4gICAgICAnZGF0YS12YWx1ZS1rZXknOiAndmFsdWVLZXknLFxyXG4gICAgICAnZGF0YS1zZWFyY2gnOiAnc2VhcmNoJyxcclxuICAgICAgJ2RhdGEtaGlkZS1jbGVhci1idXR0b24nOiAnaGlkZUNsZWFyQnV0dG9uJyxcclxuICAgICAgJ2RhdGEtb3B0aW9ucy1jb3VudCc6ICdvcHRpb25zQ291bnQnLFxyXG4gICAgICAnZGF0YS1vcHRpb24taGVpZ2h0JzogJ29wdGlvbkhlaWdodCcsXHJcbiAgICAgICdkYXRhLXBvc2l0aW9uJzogJ3Bvc2l0aW9uJyxcclxuICAgICAgJ2RhdGEtbm8tb3B0aW9ucy10ZXh0JzogJ25vT3B0aW9uc1RleHQnLFxyXG4gICAgICAnZGF0YS1uby1zZWFyY2gtcmVzdWx0cy10ZXh0JzogJ25vU2VhcmNoUmVzdWx0c1RleHQnLFxyXG4gICAgICAnZGF0YS1zaWxlbnQtaW5pdGlhbC12YWx1ZS1zZXQnOiAnc2lsZW50SW5pdGlhbFZhbHVlU2V0JyxcclxuICAgICAgJ2RhdGEtZHJvcGJveC13aWR0aCc6ICdkcm9wYm94V2lkdGgnLFxyXG4gICAgICAnZGF0YS16LWluZGV4JzogJ3pJbmRleCcsXHJcbiAgICAgICdkYXRhLW5vLW9mLWRpc3BsYXktdmFsdWVzJzogJ25vT2ZEaXNwbGF5VmFsdWVzJyxcclxuICAgICAgJ2RhdGEtYWxsb3ctbmV3LW9wdGlvbic6ICdhbGxvd05ld09wdGlvbicsXHJcbiAgICAgICdkYXRhLW1hcmstc2VhcmNoLXJlc3VsdHMnOiAnbWFya1NlYXJjaFJlc3VsdHMnLFxyXG4gICAgfTtcclxuXHJcbiAgICBmb3IgKGxldCBrIGluIG1hcHBpbmcpIHtcclxuICAgICAgbGV0IHZhbHVlID0gJGVsZS5nZXRBdHRyaWJ1dGUoayk7XHJcblxyXG4gICAgICBpZiAoayA9PT0gJ211bHRpcGxlJyAmJiAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSAndHJ1ZScpKSB7XHJcbiAgICAgICAgdmFsdWUgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICBvcHRpb25zW21hcHBpbmdba11dID0gdmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE1ldGhvZHMoKSB7XHJcbiAgICBsZXQgJGVsZSA9IHRoaXMuJGVsZTtcclxuICAgICRlbGUudmlydHVhbFNlbGVjdCA9IHRoaXM7XHJcbiAgICAkZWxlLnZhbHVlID0gdGhpcy5tdWx0aXBsZSA/IFtdIDogJyc7XHJcbiAgICAkZWxlLnJlc2V0ID0gVmlydHVhbFNlbGVjdC5yZXNldDtcclxuICAgICRlbGUuc2V0VmFsdWUgPSBWaXJ0dWFsU2VsZWN0LnNldFZhbHVlTWV0aG9kO1xyXG4gICAgJGVsZS5zZXRPcHRpb25zID0gVmlydHVhbFNlbGVjdC5zZXRPcHRpb25zTWV0aG9kO1xyXG4gICAgJGVsZS5zZXREaXNhYmxlZE9wdGlvbnMgPSBWaXJ0dWFsU2VsZWN0LnNldERpc2FibGVkT3B0aW9uc01ldGhvZDtcclxuICAgICRlbGUudG9nZ2xlU2VsZWN0QWxsID0gVmlydHVhbFNlbGVjdC50b2dnbGVTZWxlY3RBbGw7XHJcbiAgICAkZWxlLmlzQWxsU2VsZWN0ZWQgPSBWaXJ0dWFsU2VsZWN0LmlzQWxsU2VsZWN0ZWQ7XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZU1ldGhvZCh2YWx1ZSwgc2lsZW50Q2hhbmdlKSB7XHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgIHZhbHVlID0gW3ZhbHVlXTtcclxuICAgIH1cclxuXHJcbiAgICB2YWx1ZSA9IHZhbHVlLm1hcCgodikgPT4ge1xyXG4gICAgICByZXR1cm4gdiB8fCB2ID09IDAgPyB2LnRvU3RyaW5nKCkgOiAnJztcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCB2YWxpZFZhbHVlcyA9IFtdO1xyXG5cclxuICAgIHRoaXMub3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgIGxldCBpc1NlbGVjdGVkID0gdmFsdWUuaW5kZXhPZihkLnZhbHVlKSAhPT0gLTE7XHJcblxyXG4gICAgICBpZiAoaXNTZWxlY3RlZCAmJiAhZC5pc0Rpc2FibGVkKSB7XHJcbiAgICAgICAgZC5pc1NlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB2YWxpZFZhbHVlcy5wdXNoKGQudmFsdWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGQuaXNTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXRoaXMubXVsdGlwbGUpIHtcclxuICAgICAgdmFsaWRWYWx1ZXMgPSB2YWxpZFZhbHVlc1swXTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFZhbHVlKHZhbGlkVmFsdWVzLCAhc2lsZW50Q2hhbmdlKTtcclxuICAgIHRoaXMuYWZ0ZXJWYWx1ZVNldCgpO1xyXG4gIH1cclxuXHJcbiAgc2V0T3B0aW9uc01ldGhvZChvcHRpb25zKSB7XHJcbiAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICB0aGlzLnNldE9wdGlvbnNIZWlnaHQoKTtcclxuICAgIHRoaXMuc2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuICAgIHRoaXMucmVzZXQoKTtcclxuICB9XHJcblxyXG4gIHNldERpc2FibGVkT3B0aW9uc01ldGhvZChkaXNhYmxlZE9wdGlvbnMpIHtcclxuICAgIHRoaXMuc2V0RGlzYWJsZWRPcHRpb25zKGRpc2FibGVkT3B0aW9ucywgdHJ1ZSk7XHJcbiAgICB0aGlzLnNldFZhbHVlTWV0aG9kKG51bGwpO1xyXG4gICAgdGhpcy5zZXRWaXNpYmxlT3B0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgc2V0RGlzYWJsZWRPcHRpb25zKGRpc2FibGVkT3B0aW9ucyA9IFtdLCBzZXRPcHRpb25zUHJvcCA9IGZhbHNlKSB7XHJcbiAgICBkaXNhYmxlZE9wdGlvbnMgPSBkaXNhYmxlZE9wdGlvbnMubWFwKChkKSA9PiBkLnRvU3RyaW5nKCkpO1xyXG4gICAgdGhpcy5kaXNhYmxlZE9wdGlvbnMgPSBkaXNhYmxlZE9wdGlvbnM7XHJcblxyXG4gICAgaWYgKHNldE9wdGlvbnNQcm9wICYmIGRpc2FibGVkT3B0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5vcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgICBkLmlzRGlzYWJsZWQgPSBkaXNhYmxlZE9wdGlvbnMuaW5kZXhPZihkLnZhbHVlKSAhPT0gLTE7XHJcblxyXG4gICAgICAgIHJldHVybiBkO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldE9wdGlvbnMob3B0aW9ucykge1xyXG4gICAgaWYgKCFvcHRpb25zKSB7XHJcbiAgICAgIG9wdGlvbnMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZGlzYWJsZWRPcHRpb25zID0gdGhpcy5kaXNhYmxlZE9wdGlvbnM7XHJcbiAgICBsZXQgaGFzRGlzYWJsZWRPcHRpb25zID0gZGlzYWJsZWRPcHRpb25zLmxlbmd0aDtcclxuICAgIGxldCB2YWx1ZUtleSA9IHRoaXMudmFsdWVLZXk7XHJcbiAgICBsZXQgbGFiZWxLZXkgPSB0aGlzLmxhYmVsS2V5O1xyXG4gICAgdGhpcy52aXNpYmxlT3B0aW9uc0NvdW50ID0gb3B0aW9ucy5sZW5ndGg7XHJcblxyXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucy5tYXAoKGQsIGkpID0+IHtcclxuICAgICAgbGV0IHZhbHVlID0gKGRbdmFsdWVLZXldIHx8ICcnKS50b1N0cmluZygpO1xyXG4gICAgICBsZXQgb3B0aW9uID0ge1xyXG4gICAgICAgIGluZGV4OiBpLFxyXG4gICAgICAgIHZhbHVlLFxyXG4gICAgICAgIGxhYmVsOiBkW2xhYmVsS2V5XSB8fCAnJyxcclxuICAgICAgICBpc1Zpc2libGU6IHRydWUsXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBpZiAoaGFzRGlzYWJsZWRPcHRpb25zKSB7XHJcbiAgICAgICAgb3B0aW9uLmlzRGlzYWJsZWQgPSBkaXNhYmxlZE9wdGlvbnMuaW5kZXhPZih2YWx1ZSkgIT09IC0xO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gb3B0aW9uO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5sYXN0T3B0aW9uSW5kZXggPSB0aGlzLm9wdGlvbnMubGVuZ3RoIC0gMTtcclxuICB9XHJcblxyXG4gIHNldFZpc2libGVPcHRpb25zKCkge1xyXG4gICAgbGV0IHZpc2libGVPcHRpb25zID0gWy4uLnRoaXMub3B0aW9uc107XHJcbiAgICBsZXQgbWF4T3B0aW9uc1RvU2hvdyA9IHRoaXMub3B0aW9uc0NvdW50ICogMjtcclxuICAgIGxldCBzdGFydEluZGV4ID0gdGhpcy5nZXRWaXNpYmxlU3RhcnRJbmRleCgpO1xyXG4gICAgbGV0IG5ld09wdGlvbiA9IHRoaXMuZ2V0TmV3T3B0aW9uKCk7XHJcbiAgICBsZXQgZW5kSW5kZXggPSBzdGFydEluZGV4ICsgbWF4T3B0aW9uc1RvU2hvdyAtIDE7XHJcbiAgICBsZXQgaSA9IDA7XHJcblxyXG4gICAgaWYgKG5ld09wdGlvbikge1xyXG4gICAgICBuZXdPcHRpb24udmlzaWJsZUluZGV4ID0gaTtcclxuICAgICAgaSsrO1xyXG4gICAgfVxyXG5cclxuICAgIHZpc2libGVPcHRpb25zID0gdmlzaWJsZU9wdGlvbnMuZmlsdGVyKChkKSA9PiB7XHJcbiAgICAgIGxldCBpblZpZXcgPSBmYWxzZTtcclxuXHJcbiAgICAgIGlmIChkLmlzVmlzaWJsZSAmJiAhZC5pc0N1cnJlbnROZXcpIHtcclxuICAgICAgICBpblZpZXcgPSBpID49IHN0YXJ0SW5kZXggJiYgaSA8PSBlbmRJbmRleDtcclxuICAgICAgICBkLnZpc2libGVJbmRleCA9IGk7XHJcbiAgICAgICAgaSsrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gaW5WaWV3O1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKG5ld09wdGlvbikge1xyXG4gICAgICB2aXNpYmxlT3B0aW9ucyA9IFtuZXdPcHRpb24sIC4uLnZpc2libGVPcHRpb25zXTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnZpc2libGVPcHRpb25zID0gdmlzaWJsZU9wdGlvbnM7XHJcbiAgICB0aGlzLnJlbmRlck9wdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIHNldE9wdGlvbnNQb3NpdGlvbihzdGFydEluZGV4KSB7XHJcbiAgICBpZiAoc3RhcnRJbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHN0YXJ0SW5kZXggPSB0aGlzLmdldFZpc2libGVTdGFydEluZGV4KCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHRvcCA9IHN0YXJ0SW5kZXggKiB0aGlzLm9wdGlvbkhlaWdodDtcclxuICAgIHRoaXMuJG9wdGlvbnMuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDAsICR7dG9wfXB4LCAwKWA7XHJcbiAgICB0aGlzLnNldERhdGEodGhpcy4kb3B0aW9ucywgJ3RvcCcsIHRvcCk7XHJcbiAgfVxyXG5cclxuICBzZXRPcHRpb25zVG9vbHRpcCgpIHtcclxuICAgIGxldCB2aXNpYmxlT3B0aW9ucyA9IHRoaXMuZ2V0VmlzaWJsZU9wdGlvbnMoKTtcclxuXHJcbiAgICB2aXNpYmxlT3B0aW9ucy5mb3JFYWNoKChkKSA9PiB7XHJcbiAgICAgIGxldCAkb3B0aW9uRWxlID0gdGhpcy4kZHJvcGJveC5xdWVyeVNlbGVjdG9yKGAudnNjb21wLW9wdGlvbltkYXRhLWluZGV4PVwiJHtkLmluZGV4fVwiXSAudnNjb21wLW9wdGlvbi10ZXh0YCk7XHJcblxyXG4gICAgICB0aGlzLnNldERhdGEoJG9wdGlvbkVsZSwgJ3Rvb2x0aXAnLCBkLmxhYmVsKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0VmFsdWUodmFsdWUsIHRyaWdnZXJFdmVudCkge1xyXG4gICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkVmFsdWVzID0gW107XHJcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRWYWx1ZXMgPSBbLi4udmFsdWVdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZFZhbHVlcyA9IFt2YWx1ZV07XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy4kZWxlLnZhbHVlID0gdGhpcy5tdWx0aXBsZSA/IHRoaXMuc2VsZWN0ZWRWYWx1ZXMgOiB0aGlzLnNlbGVjdGVkVmFsdWVzWzBdIHx8ICcnO1xyXG4gICAgdGhpcy5zZXRWYWx1ZVRleHQoKTtcclxuICAgIHRoaXMudG9nZ2xlQ2xhc3ModGhpcy4kd3JhcHBlciwgJ2hhcy12YWx1ZScsIHRoaXMuaXNOb3RFbXB0eSh0aGlzLnNlbGVjdGVkVmFsdWVzKSk7XHJcblxyXG4gICAgaWYgKHRyaWdnZXJFdmVudCkge1xyXG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQodGhpcy4kZWxlLCAnY2hhbmdlJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRWYWx1ZVRleHQoKSB7XHJcbiAgICBsZXQgdmFsdWVUZXh0ID0gW107XHJcbiAgICBsZXQgdmFsdWVUb29sdGlwID0gW107XHJcbiAgICBsZXQgc2VsZWN0ZWRWYWx1ZSA9IHRoaXMuc2VsZWN0ZWRWYWx1ZXM7XHJcbiAgICBsZXQgbm9PZkRpc3BsYXlWYWx1ZXMgPSB0aGlzLm5vT2ZEaXNwbGF5VmFsdWVzO1xyXG4gICAgbGV0IG1heGltdW1WYWx1ZXNUb1Nob3cgPSA1MDtcclxuICAgIGxldCBzZWxlY3RlZFZhbHVlc0NvdW50ID0gMDtcclxuXHJcbiAgICBmb3IgKGxldCBkIG9mIHRoaXMub3B0aW9ucykge1xyXG4gICAgICBpZiAoZC5pc0N1cnJlbnROZXcpIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHNlbGVjdGVkVmFsdWVzQ291bnQgPiBtYXhpbXVtVmFsdWVzVG9TaG93KSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxldCB2YWx1ZSA9IGQudmFsdWU7XHJcblxyXG4gICAgICBpZiAoc2VsZWN0ZWRWYWx1ZS5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcclxuICAgICAgICBsZXQgbGFiZWwgPSBkLmxhYmVsO1xyXG4gICAgICAgIHZhbHVlVGV4dC5wdXNoKGxhYmVsKTtcclxuICAgICAgICBzZWxlY3RlZFZhbHVlc0NvdW50Kys7XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3RlZFZhbHVlc0NvdW50IDw9IG5vT2ZEaXNwbGF5VmFsdWVzKSB7XHJcbiAgICAgICAgICB2YWx1ZVRvb2x0aXAucHVzaChgPHNwYW4gY2xhc3M9XCJ2c2NvbXAtdmFsdWUtdGFnXCI+JHtsYWJlbH08L3NwYW4+YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG1vcmVTZWxlY3RlZE9wdGlvbnMgPSBzZWxlY3RlZFZhbHVlLmxlbmd0aCAtIG5vT2ZEaXNwbGF5VmFsdWVzO1xyXG5cclxuICAgIGlmIChtb3JlU2VsZWN0ZWRPcHRpb25zID4gMCkge1xyXG4gICAgICB2YWx1ZVRvb2x0aXAucHVzaChgPHNwYW4gY2xhc3M9XCJ2c2NvbXAtdmFsdWUtdGFnXCI+KyAke21vcmVTZWxlY3RlZE9wdGlvbnN9IG1vcmUuLi48L3NwYW4+YCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy4kdmFsdWVUZXh0LmlubmVySFRNTCA9IHZhbHVlVGV4dC5qb2luKCcsICcpIHx8IHRoaXMucGxhY2Vob2xkZXI7XHJcbiAgICB0aGlzLnNldERhdGEodGhpcy4kdmFsdWVUZXh0LCAndG9vbHRpcCcsIHZhbHVlVG9vbHRpcC5qb2luKCcsICcpKTtcclxuICB9XHJcblxyXG4gIHNldFNlYXJjaFZhbHVlKHZhbHVlLCBza2lwSW5wdXRTZXQpIHtcclxuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5zZWFyY2hWYWx1ZU9yaWdpbmFsKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXNraXBJbnB1dFNldCkge1xyXG4gICAgICB0aGlzLiRzZWFyY2hJbnB1dC52YWx1ZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1hcmtTZWFyY2hSZXN1bHRzID0gdGhpcy5tYXJrU2VhcmNoUmVzdWx0cztcclxuICAgIGxldCBzZWFyY2hWYWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xyXG4gICAgbGV0IHZpc2libGVPcHRpb25zQ291bnQgPSAwO1xyXG4gICAgbGV0IGhhc0V4YWN0T3B0aW9uID0gZmFsc2U7XHJcbiAgICB0aGlzLnNlYXJjaFZhbHVlID0gc2VhcmNoVmFsdWU7XHJcbiAgICB0aGlzLnNlYXJjaFZhbHVlT3JpZ2luYWwgPSB2YWx1ZTtcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICBpZiAoZC5pc0N1cnJlbnROZXcpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChtYXJrU2VhcmNoUmVzdWx0cykge1xyXG4gICAgICAgIC8qKiByZW1vdmUgcHJldmlvdXMgbW9kaWZpY2F0aW9ucyB0byB0aGUgbGFiZWwgKi9cclxuICAgICAgICBkLmxhYmVsID0gZC5sYWJlbC5yZXBsYWNlKC88XFwvKm1hcms+L2csICcnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbGV0IHZhbHVlID0gZC5sYWJlbC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIGxldCBpc1Zpc2libGUgPSB2YWx1ZS5pbmRleE9mKHNlYXJjaFZhbHVlKSAhPT0gLTE7XHJcbiAgICAgIGQuaXNWaXNpYmxlID0gaXNWaXNpYmxlO1xyXG5cclxuICAgICAgaWYgKGlzVmlzaWJsZSkge1xyXG4gICAgICAgIHZpc2libGVPcHRpb25zQ291bnQrKztcclxuICAgICAgICBpZiAobWFya1NlYXJjaFJlc3VsdHMpIHtcclxuICAgICAgICAgIGNvbnN0IGluZGV4ID0gdmFsdWUuaW5kZXhPZihzZWFyY2hWYWx1ZSk7XHJcbiAgICAgICAgICBkLmxhYmVsID0gZC5sYWJlbC5zdWJzdHIoMCwgaW5kZXgpICsgJzxtYXJrPicgKyBkLmxhYmVsLnN1YnN0cihpbmRleCwgc2VhcmNoVmFsdWUubGVuZ3RoKSArICc8L21hcms+JyArIGQubGFiZWwuc3Vic3RyKGluZGV4ICsgc2VhcmNoVmFsdWUubGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghaGFzRXhhY3RPcHRpb24pIHtcclxuICAgICAgICBoYXNFeGFjdE9wdGlvbiA9IHZhbHVlID09PSBzZWFyY2hWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy52aXNpYmxlT3B0aW9uc0NvdW50ID0gdmlzaWJsZU9wdGlvbnNDb3VudDtcclxuXHJcbiAgICBpZiAodGhpcy5hbGxvd05ld09wdGlvbikge1xyXG4gICAgICBpZiAodmFsdWUgJiYgIWhhc0V4YWN0T3B0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5zZXROZXdPcHRpb24oKTtcclxuICAgICAgICB0aGlzLnZpc2libGVPcHRpb25zQ291bnQrKztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnJlbW92ZU5ld09wdGlvbigpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy50b2dnbGVDbGFzcyh0aGlzLiR3cmFwcGVyLCAnaGFzLXNlYXJjaC12YWx1ZScsIHZhbHVlKTtcclxuICAgIHRoaXMuc2Nyb2xsVG9Ub3AoKTtcclxuICAgIHRoaXMuc2V0T3B0aW9uc0hlaWdodCgpO1xyXG4gICAgdGhpcy5zZXRWaXNpYmxlT3B0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgc2V0T3B0aW9uUHJvcChpbmRleCwga2V5LCB2YWx1ZSkge1xyXG4gICAgaWYgKCF0aGlzLm9wdGlvbnNbaW5kZXhdKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9wdGlvbnNbaW5kZXhdW2tleV0gPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHNldE9wdGlvbnNIZWlnaHQoKSB7XHJcbiAgICB0aGlzLiRvcHRpb25zTGlzdC5zdHlsZS5oZWlnaHQgPSB0aGlzLm9wdGlvbkhlaWdodCAqIHRoaXMudmlzaWJsZU9wdGlvbnNDb3VudCArICdweCc7XHJcbiAgfVxyXG5cclxuICBzZXREcm9wYm94UG9zaXRpb24oKSB7XHJcbiAgICBpZiAodGhpcy5wb3NpdGlvbiAhPT0gJ2F1dG8nKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbW9yZVZpc2libGVTaWRlcyA9IHRoaXMuZ2V0TW9yZVZpc2libGVTaWRlcyh0aGlzLiR3cmFwcGVyKTtcclxuICAgIGxldCBzaG93T25MZWZ0ID0gZmFsc2U7XHJcblxyXG4gICAgLyoqIGNoZWNrIHRoYXQgaXMgZHJvcGJveCBoaWRkZW4gb24gcmlnaHQgZWRnZSAtIG9ubHkgaWYgY3VzdG9tIHdpZHRoIGdpdmVuICovXHJcbiAgICBpZiAodGhpcy5kcm9wYm94V2lkdGgpIHtcclxuICAgICAgbGV0IGJ1dHRvbkNvb3JkcyA9IHRoaXMuJHRvZ2dsZUJ1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgbGV0IHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgbGV0IGRyb3Bib3hXaWR0aCA9IHBhcnNlRmxvYXQodGhpcy5kcm9wYm94V2lkdGgpO1xyXG4gICAgICBsZXQgaGlkZGVuT25SaWdodCA9IGJ1dHRvbkNvb3Jkcy5sZWZ0ICsgZHJvcGJveFdpZHRoID4gdmlld3BvcnRXaWR0aDtcclxuICAgICAgbGV0IGhpZGRlbk9uTGVmdCA9IGRyb3Bib3hXaWR0aCA+IGJ1dHRvbkNvb3Jkcy5yaWdodDtcclxuICAgICAgXHJcbiAgICAgIGlmIChoaWRkZW5PblJpZ2h0ICYmICFoaWRkZW5PbkxlZnQpIHtcclxuICAgICAgICBzaG93T25MZWZ0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudG9nZ2xlQ2xhc3ModGhpcy4kd3JhcHBlciwgJ3Bvc2l0aW9uLXRvcCcsIG1vcmVWaXNpYmxlU2lkZXMudmVydGljYWwgPT09ICd0b3AnKTtcclxuICAgIHRoaXMudG9nZ2xlQ2xhc3ModGhpcy4kd3JhcHBlciwgJ3Bvc2l0aW9uLWxlZnQnLCBzaG93T25MZWZ0KTtcclxuICB9XHJcblxyXG4gIHNldE5ld09wdGlvbigpIHtcclxuICAgIGxldCB2YWx1ZSA9IHRoaXMuc2VhcmNoVmFsdWVPcmlnaW5hbC50cmltKCk7XHJcblxyXG4gICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG5ld09wdGlvbiA9IHRoaXMuZ2V0TmV3T3B0aW9uKCk7XHJcblxyXG4gICAgaWYgKG5ld09wdGlvbikge1xyXG4gICAgICBsZXQgbmV3SW5kZXggPSBuZXdPcHRpb24uaW5kZXg7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLnNldE9wdGlvblByb3AobmV3SW5kZXgsICd2YWx1ZScsIHZhbHVlKTtcclxuICAgICAgdGhpcy5zZXRPcHRpb25Qcm9wKG5ld0luZGV4LCAnbGFiZWwnLCB2YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgICB2YWx1ZSxcclxuICAgICAgICBsYWJlbDogdmFsdWUsXHJcbiAgICAgICAgaXNDdXJyZW50TmV3OiB0cnVlLFxyXG4gICAgICB9O1xyXG4gIFxyXG4gICAgICB0aGlzLmFkZE9wdGlvbih0aGlzLmdldE9wdGlvbk9iaihkYXRhKSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8qKiBzZXQgbWV0aG9kcyAtIGVuZCAqL1xyXG5cclxuICAvKiogZ2V0IG1ldGhvZHMgLSBzdGFydCAqL1xyXG4gIGdldFZpc2libGVPcHRpb25zKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmlzaWJsZU9wdGlvbnMgfHwgW107XHJcbiAgfVxyXG5cclxuICBnZXRWYWx1ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLm11bHRpcGxlID8gdGhpcy5zZWxlY3RlZFZhbHVlcyA6IHRoaXMuc2VsZWN0ZWRWYWx1ZXNbMF07XHJcbiAgfVxyXG5cclxuICBnZXRGaXJzdFZpc2libGVPcHRpb25JbmRleCgpIHtcclxuICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy4kb3B0aW9uc0NvbnRhaW5lci5zY3JvbGxUb3AgLyB0aGlzLm9wdGlvbkhlaWdodCk7XHJcbiAgfVxyXG5cclxuICBnZXRWaXNpYmxlU3RhcnRJbmRleCgpIHtcclxuICAgIGxldCBmaXJzdFZpc2libGVPcHRpb25JbmRleCA9IHRoaXMuZ2V0Rmlyc3RWaXNpYmxlT3B0aW9uSW5kZXgoKTtcclxuICAgIGxldCBzdGFydEluZGV4ID0gZmlyc3RWaXNpYmxlT3B0aW9uSW5kZXggLSB0aGlzLmhhbGZPcHRpb25zQ291bnQ7XHJcblxyXG4gICAgaWYgKHN0YXJ0SW5kZXggPCAwKSB7XHJcbiAgICAgIHN0YXJ0SW5kZXggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzdGFydEluZGV4O1xyXG4gIH1cclxuXHJcbiAgZ2V0VG9vbHRpcEF0dHJUZXh0KHRleHQsIGVsbGlwc2lzT25seSkge1xyXG4gICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICdkYXRhLXRvb2x0aXAnOiB0ZXh0IHx8ICcnLFxyXG4gICAgICAnZGF0YS10b29sdGlwLWVudGVyLWRlbGF5JzogdGhpcy50b29sdGlwRW50ZXJEZWxheSxcclxuICAgICAgJ2RhdGEtdG9vbHRpcC16LWluZGV4JzogdGhpcy56SW5kZXgsXHJcbiAgICAgICdkYXRhLXRvb2x0aXAtZWxsaXBzaXMtb25seSc6IGVsbGlwc2lzT25seSB8fCBmYWxzZSxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlc1RleHQoZGF0YSk7XHJcbiAgfVxyXG5cclxuICBnZXRPcHRpb25PYmooZGF0YSkge1xyXG4gICAgaWYgKCFkYXRhKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbmV3T3B0aW9uID0ge1xyXG4gICAgICBpbmRleDogZGF0YS5pbmRleCxcclxuICAgICAgaXNDdXJyZW50TmV3OiBkYXRhLmlzQ3VycmVudE5ldyB8fCBmYWxzZSxcclxuICAgICAgdmFsdWU6IGRhdGEudmFsdWUsXHJcbiAgICAgIGxhYmVsOiBkYXRhLmxhYmVsLFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gbmV3T3B0aW9uO1xyXG4gIH1cclxuXHJcbiAgZ2V0TmV3T3B0aW9uKCkge1xyXG4gICAgbGV0IGxhc3RPcHRpb24gPSB0aGlzLm9wdGlvbnNbdGhpcy5sYXN0T3B0aW9uSW5kZXhdO1xyXG5cclxuICAgIGlmICghbGFzdE9wdGlvbiB8fCAhbGFzdE9wdGlvbi5pc0N1cnJlbnROZXcpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsYXN0T3B0aW9uO1xyXG4gIH1cclxuXHJcbiAgZ2V0T3B0aW9uSW5kZXgodmFsdWUpIHtcclxuICAgIGxldCBpbmRleDtcclxuXHJcbiAgICBpZiAodmFsdWUpIHtcclxuICAgICAgdGhpcy5vcHRpb25zLnNvbWUoKGQpID0+IHtcclxuICAgICAgICBpZiAoZC52YWx1ZSA9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgaW5kZXggPSBkLmluZGV4O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBpbmRleDtcclxuICB9XHJcbiAgLyoqIGdldCBtZXRob2RzIC0gZW5kICovXHJcblxyXG4gIG9wZW5Ecm9wYm94KGlzU2lsZW50KSB7XHJcbiAgICB0aGlzLnNldERyb3Bib3hQb3NpdGlvbigpO1xyXG4gICAgdGhpcy5yZW1vdmVDbGFzcyh0aGlzLiR3cmFwcGVyLCAnY2xvc2VkJyk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuYWRkQ2xhc3ModGhpcy4kd3JhcHBlciwgJ29wZW5lZCcpO1xyXG5cclxuICAgICAgaWYgKCFpc1NpbGVudCkge1xyXG4gICAgICAgIHRoaXMuYWRkQ2xhc3ModGhpcy4kd3JhcHBlciwgJ2ZvY3VzZWQnKTtcclxuICAgICAgICB0aGlzLmZvY3VzU2VhcmNoSW5wdXQoKTtcclxuICAgICAgfVxyXG4gICAgfSwgMCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZURyb3Bib3goaXNTaWxlbnQpIHtcclxuICAgIGxldCB0cmFuc2l0aW9uRHVyYXRpb24gPSBpc1NpbGVudCA/IDAgOiB0aGlzLnRyYW5zaXRpb25EdXJhdGlvbjtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5yZW1vdmVDbGFzcyh0aGlzLiR3cmFwcGVyLCAnb3BlbmVkIGZvY3VzZWQnKTtcclxuICAgICAgdGhpcy5yZW1vdmVPcHRpb25Gb2N1cygpO1xyXG4gICAgfSwgMCk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuYWRkQ2xhc3ModGhpcy4kd3JhcHBlciwgJ2Nsb3NlZCcpO1xyXG4gICAgfSwgdHJhbnNpdGlvbkR1cmF0aW9uKTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZURyb3Bib3goKSB7XHJcbiAgICBpZiAodGhpcy5pc09wZW5lZCgpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VEcm9wYm94KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm9wZW5Ecm9wYm94KCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpc09wZW5lZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmhhc0NsYXNzKHRoaXMuJHdyYXBwZXIsICdvcGVuZWQnKTtcclxuICB9XHJcblxyXG4gIGZvY3VzU2VhcmNoSW5wdXQoKSB7XHJcbiAgICBsZXQgJGVsZSA9IHRoaXMuJHNlYXJjaElucHV0O1xyXG5cclxuICAgIGlmICgkZWxlKSB7XHJcbiAgICAgICRlbGUuZm9jdXMoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZvY3VzT3B0aW9uKGRpcmVjdGlvbiwgZWxlKSB7XHJcbiAgICBsZXQgJGZvY3VzZWRFbGUgPSB0aGlzLiRkcm9wYm94LnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtb3B0aW9uLmZvY3VzZWQnKTtcclxuICAgIGxldCAkbmV3Rm9jdXNlZEVsZTtcclxuXHJcbiAgICBpZiAoZWxlKSB7XHJcbiAgICAgICRuZXdGb2N1c2VkRWxlID0gZWxlO1xyXG4gICAgfSBlbHNlIGlmICghJGZvY3VzZWRFbGUpIHtcclxuICAgICAgLyogaWYgbm8gZWxlbWVudCBvbiBmb2N1cyBjaG9vc2UgZmlyc3QgdmlzaWJsZSBvbmUgKi9cclxuICAgICAgbGV0IGZpcnN0VmlzaWJsZU9wdGlvbkluZGV4ID0gdGhpcy5nZXRGaXJzdFZpc2libGVPcHRpb25JbmRleCgpO1xyXG4gICAgICAkbmV3Rm9jdXNlZEVsZSA9IHRoaXMuJGRyb3Bib3gucXVlcnlTZWxlY3RvcihgLnZzY29tcC1vcHRpb25bZGF0YS12aXNpYmxlLWluZGV4PVwiJHtmaXJzdFZpc2libGVPcHRpb25JbmRleH1cIl1gKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLmhhc0NsYXNzKCRuZXdGb2N1c2VkRWxlLCAnZGlzYWJsZWQnKSkge1xyXG4gICAgICAgICRuZXdGb2N1c2VkRWxlID0gdGhpcy5nZXRTaWJsaW5nKCRuZXdGb2N1c2VkRWxlLCAnbmV4dCcpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkbmV3Rm9jdXNlZEVsZSA9IHRoaXMuZ2V0U2libGluZygkZm9jdXNlZEVsZSwgZGlyZWN0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoJG5ld0ZvY3VzZWRFbGUgJiYgJG5ld0ZvY3VzZWRFbGUgIT09ICRmb2N1c2VkRWxlKSB7XHJcbiAgICAgIGlmICgkZm9jdXNlZEVsZSkge1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3MoJGZvY3VzZWRFbGUsICdmb2N1c2VkJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuYWRkQ2xhc3MoJG5ld0ZvY3VzZWRFbGUsICdmb2N1c2VkJyk7XHJcbiAgICAgIHRoaXMudG9nZ2xlRm9jdXNlZFByb3AodGhpcy5nZXREYXRhKCRuZXdGb2N1c2VkRWxlLCAnaW5kZXgnKSwgdHJ1ZSk7XHJcbiAgICAgIHRoaXMubW92ZUZvY3VzZWRPcHRpb25Ub1ZpZXcoJG5ld0ZvY3VzZWRFbGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbW92ZUZvY3VzZWRPcHRpb25Ub1ZpZXcoJGZvY3VzZWRFbGUpIHtcclxuICAgIGlmICghJGZvY3VzZWRFbGUpIHtcclxuICAgICAgJGZvY3VzZWRFbGUgPSB0aGlzLiRkcm9wYm94LnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtb3B0aW9uLmZvY3VzZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoISRmb2N1c2VkRWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbmV3U2Nyb2xsVG9wO1xyXG4gICAgbGV0IGNvbnRhaW5lclJlY3QgPSB0aGlzLiRvcHRpb25zQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgbGV0IG9wdGlvblJlY3QgPSAkZm9jdXNlZEVsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGxldCBjb250YWluZXJUb3AgPSBjb250YWluZXJSZWN0LnRvcDtcclxuICAgIGxldCBjb250YWluZXJCb3R0b20gPSBjb250YWluZXJSZWN0LmJvdHRvbTtcclxuICAgIGxldCBjb250YWluZXJIZWlnaHQgPSBjb250YWluZXJSZWN0LmhlaWdodDtcclxuICAgIGxldCBvcHRpb25Ub3AgPSBvcHRpb25SZWN0LnRvcDtcclxuICAgIGxldCBvcHRpb25Cb3R0b20gPSBvcHRpb25SZWN0LmJvdHRvbTtcclxuICAgIGxldCBvcHRpb25IZWlnaHQgPSBvcHRpb25SZWN0LmhlaWdodDtcclxuICAgIGxldCBvcHRpb25PZmZzZXRUb3AgPSAkZm9jdXNlZEVsZS5vZmZzZXRUb3A7XHJcbiAgICBsZXQgb3B0aW9uc1RvcCA9IHRoaXMuZ2V0RGF0YSh0aGlzLiRvcHRpb25zLCAndG9wJywgJ251bWJlcicpO1xyXG5cclxuICAgIC8qIGlmIG9wdGlvbiBoaWRkZW4gb24gdG9wICovXHJcbiAgICBpZiAoY29udGFpbmVyVG9wID4gb3B0aW9uVG9wKSB7XHJcbiAgICAgIG5ld1Njcm9sbFRvcCA9IG9wdGlvbk9mZnNldFRvcCArIG9wdGlvbnNUb3A7XHJcbiAgICB9IGVsc2UgaWYgKGNvbnRhaW5lckJvdHRvbSA8IG9wdGlvbkJvdHRvbSkge1xyXG4gICAgICAvKiBpZiBvcHRpb24gaGlkZGVuIG9uIGJvdHRvbSAqL1xyXG4gICAgICBuZXdTY3JvbGxUb3AgPSBvcHRpb25PZmZzZXRUb3AgLSBjb250YWluZXJIZWlnaHQgKyBvcHRpb25IZWlnaHQgKyBvcHRpb25zVG9wO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChuZXdTY3JvbGxUb3AgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLiRvcHRpb25zQ29udGFpbmVyLnNjcm9sbFRvcCA9IG5ld1Njcm9sbFRvcDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbW92ZU9wdGlvbkZvY3VzKCkge1xyXG4gICAgbGV0ICRmb2N1c2VkRWxlID0gdGhpcy4kZHJvcGJveC5xdWVyeVNlbGVjdG9yKCcudnNjb21wLW9wdGlvbi5mb2N1c2VkJyk7XHJcblxyXG4gICAgaWYgKCEkZm9jdXNlZEVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZW1vdmVDbGFzcygkZm9jdXNlZEVsZSwgJ2ZvY3VzZWQnKTtcclxuICAgIHRoaXMudG9nZ2xlRm9jdXNlZFByb3AobnVsbCk7XHJcbiAgfVxyXG5cclxuICBzZWxlY3RPcHRpb24oJGVsZSkge1xyXG4gICAgaWYgKCEkZWxlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaXNBZGRpbmcgPSAhdGhpcy5oYXNDbGFzcygkZWxlLCAnc2VsZWN0ZWQnKTtcclxuXHJcbiAgICAvKiogb24gc2VsZWN0aW5nIHNhbWUgdmFsdWUgaW4gc2luZ2xlIHNlbGVjdCAqL1xyXG4gICAgaWYgKCFpc0FkZGluZyAmJiAhdGhpcy5tdWx0aXBsZSkge1xyXG4gICAgICB0aGlzLmNsb3NlRHJvcGJveCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNlbGVjdGVkVmFsdWVzID0gdGhpcy5zZWxlY3RlZFZhbHVlcztcclxuICAgIGxldCBzZWxlY3RlZFZhbHVlID0gdGhpcy5nZXREYXRhKCRlbGUsICd2YWx1ZScpO1xyXG4gICAgbGV0IHNlbGVjdGVkSW5kZXggPSB0aGlzLmdldERhdGEoJGVsZSwgJ2luZGV4Jyk7XHJcblxyXG4gICAgdGhpcy50b2dnbGVTZWxlY3RlZFByb3Aoc2VsZWN0ZWRJbmRleCwgaXNBZGRpbmcpO1xyXG5cclxuICAgIGlmIChpc0FkZGluZykge1xyXG4gICAgICBpZiAodGhpcy5tdWx0aXBsZSkge1xyXG4gICAgICAgIHNlbGVjdGVkVmFsdWVzLnB1c2goc2VsZWN0ZWRWYWx1ZSk7XHJcbiAgICAgICAgdGhpcy50b2dnbGVBbGxPcHRpb25zQ2xhc3MoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0aGlzLnRvZ2dsZVNlbGVjdGVkUHJvcCh0aGlzLmdldE9wdGlvbkluZGV4KHNlbGVjdGVkVmFsdWVzWzBdKSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZXMgPSBbc2VsZWN0ZWRWYWx1ZV07XHJcbiAgICAgICAgbGV0ICRwcmV2U2VsZWN0ZWRPcHRpb24gPSB0aGlzLiRlbGUucXVlcnlTZWxlY3RvcignLnZzY29tcC1vcHRpb24uc2VsZWN0ZWQnKTtcclxuXHJcbiAgICAgICAgaWYgKCRwcmV2U2VsZWN0ZWRPcHRpb24pIHtcclxuICAgICAgICAgIHRoaXMudG9nZ2xlQ2xhc3MoJHByZXZTZWxlY3RlZE9wdGlvbiwgJ3NlbGVjdGVkJywgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jbG9zZURyb3Bib3goKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy50b2dnbGVDbGFzcygkZWxlLCAnc2VsZWN0ZWQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XHJcbiAgICAgICAgdGhpcy50b2dnbGVDbGFzcygkZWxlLCAnc2VsZWN0ZWQnKTtcclxuICAgICAgICB0aGlzLnJlbW92ZUl0ZW1Gcm9tQXJyYXkoc2VsZWN0ZWRWYWx1ZXMsIHNlbGVjdGVkVmFsdWUpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQWxsT3B0aW9uc0NsYXNzKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmhhc0NsYXNzKCRlbGUsICdjdXJyZW50LW5ldycpKSB7XHJcbiAgICAgIHRoaXMuYmVmb3JlU2VsZWN0TmV3VmFsdWUoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldFZhbHVlKHNlbGVjdGVkVmFsdWVzLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIHNlbGVjdEZvY3VzZWRPcHRpb24oKSB7XHJcbiAgICB0aGlzLnNlbGVjdE9wdGlvbih0aGlzLiRkcm9wYm94LnF1ZXJ5U2VsZWN0b3IoJy52c2NvbXAtb3B0aW9uLmZvY3VzZWQnKSk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVBbGxPcHRpb25zKGlzU2VsZWN0ZWQpIHtcclxuICAgIGlmICghdGhpcy5tdWx0aXBsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBpc1NlbGVjdGVkICE9PSAnYm9vbGVhbicpIHtcclxuICAgICAgaXNTZWxlY3RlZCA9ICF0aGlzLmhhc0NsYXNzKHRoaXMuJHRvZ2dsZUFsbE9wdGlvbnMsICdjaGVja2VkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNlbGVjdGVkVmFsdWVzID0gW107XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLmZvckVhY2goKGQpID0+IHtcclxuICAgICAgaWYgKGQuaXNEaXNhYmxlZCB8fCBkLmlzQ3VycmVudE5ldykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZC5pc1NlbGVjdGVkID0gaXNTZWxlY3RlZDtcclxuXHJcbiAgICAgIGlmIChpc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgc2VsZWN0ZWRWYWx1ZXMucHVzaChkLnZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zZXRWYWx1ZShzZWxlY3RlZFZhbHVlcywgdHJ1ZSk7XHJcbiAgICB0aGlzLnRvZ2dsZUFsbE9wdGlvbnNDbGFzcyhpc1NlbGVjdGVkKTtcclxuICAgIHRoaXMucmVuZGVyT3B0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlQWxsT3B0aW9uc0NsYXNzKGlzQWxsU2VsZWN0ZWQpIHtcclxuICAgIGlmICh0eXBlb2YgaXNBbGxTZWxlY3RlZCAhPT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgIGlzQWxsU2VsZWN0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgaXNBbGxTZWxlY3RlZCA9ICF0aGlzLm9wdGlvbnMuc29tZSgoZCkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuICFkLmlzU2VsZWN0ZWQgJiYgIWQuaXNEaXNhYmxlZDtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudG9nZ2xlQ2xhc3ModGhpcy4kdG9nZ2xlQWxsT3B0aW9ucywgJ2NoZWNrZWQnLCBpc0FsbFNlbGVjdGVkKTtcclxuICAgIHRoaXMuaXNBbGxTZWxlY3RlZCA9IGlzQWxsU2VsZWN0ZWQ7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVGb2N1c2VkUHJvcChpbmRleCwgaXNGb2N1c2VkID0gZmFsc2UpIHtcclxuICAgIGlmICh0aGlzLmZvY3VzZWRPcHRpb25JbmRleCkge1xyXG4gICAgICB0aGlzLnNldE9wdGlvblByb3AodGhpcy5mb2N1c2VkT3B0aW9uSW5kZXgsICdpc0ZvY3VzZWQnLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zZXRPcHRpb25Qcm9wKGluZGV4LCAnaXNGb2N1c2VkJywgaXNGb2N1c2VkKTtcclxuICAgIHRoaXMuZm9jdXNlZE9wdGlvbkluZGV4ID0gaW5kZXg7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVTZWxlY3RlZFByb3AoaW5kZXgsIGlzU2VsZWN0ZWQgPSBmYWxzZSkge1xyXG4gICAgdGhpcy5zZXRPcHRpb25Qcm9wKGluZGV4LCAnaXNTZWxlY3RlZCcsIGlzU2VsZWN0ZWQpO1xyXG4gIH1cclxuXHJcbiAgc2Nyb2xsVG9Ub3AoKSB7XHJcbiAgICBsZXQgaXNDbG9zZWQgPSAhdGhpcy5pc09wZW5lZCgpO1xyXG5cclxuICAgIGlmIChpc0Nsb3NlZCkge1xyXG4gICAgICB0aGlzLm9wZW5Ecm9wYm94KHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzY3JvbGxUb3AgPSB0aGlzLiRvcHRpb25zQ29udGFpbmVyLnNjcm9sbFRvcDtcclxuXHJcbiAgICBpZiAoc2Nyb2xsVG9wID4gMCkge1xyXG4gICAgICB0aGlzLiRvcHRpb25zQ29udGFpbmVyLnNjcm9sbFRvcCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzQ2xvc2VkKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VEcm9wYm94KHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVzZXQoKSB7XHJcbiAgICB0aGlzLm9wdGlvbnMuZm9yRWFjaCgoZCkgPT4ge1xyXG4gICAgICBkLmlzU2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc2V0VmFsdWUobnVsbCwgdHJ1ZSk7XHJcbiAgICB0aGlzLmFmdGVyVmFsdWVTZXQodHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBhZnRlclZhbHVlU2V0KGlzUmVzZXQpIHtcclxuICAgIHRoaXMuc2Nyb2xsVG9Ub3AoKTtcclxuICAgIHRoaXMudG9nZ2xlQWxsT3B0aW9uc0NsYXNzKGlzUmVzZXQgPyBmYWxzZSA6IHVuZGVmaW5lZCk7XHJcbiAgICB0aGlzLnNldFNlYXJjaFZhbHVlKCcnKTtcclxuICAgIHRoaXMucmVuZGVyT3B0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgYWRkT3B0aW9uKGRhdGEpIHtcclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5sYXN0T3B0aW9uSW5kZXgrKztcclxuICAgIGRhdGEuaW5kZXggPSB0aGlzLmxhc3RPcHRpb25JbmRleDtcclxuXHJcbiAgICB0aGlzLm9wdGlvbnMucHVzaCh0aGlzLmdldE9wdGlvbk9iaihkYXRhKSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVPcHRpb24oaW5kZXgpIHtcclxuICAgIGlmICghaW5kZXggJiYgaW5kZXggIT0gMCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vcHRpb25zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB0aGlzLmxhc3RPcHRpb25JbmRleC0tO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlTmV3T3B0aW9uKCkge1xyXG4gICAgbGV0IG5ld09wdGlvbiA9IHRoaXMuZ2V0TmV3T3B0aW9uKCk7XHJcblxyXG4gICAgaWYgKG5ld09wdGlvbikge1xyXG4gICAgICB0aGlzLnJlbW92ZU9wdGlvbihuZXdPcHRpb24uaW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYmVmb3JlU2VsZWN0TmV3VmFsdWUoKSB7XHJcbiAgICBsZXQgbmV3T3B0aW9uID0gdGhpcy5nZXROZXdPcHRpb24oKTtcclxuICAgIGxldCBuZXdJbmRleCA9IG5ld09wdGlvbi5pbmRleDtcclxuXHJcbiAgICB0aGlzLnNldE9wdGlvblByb3AobmV3SW5kZXgsICdpc0N1cnJlbnROZXcnLCBmYWxzZSk7XHJcbiAgICB0aGlzLnNldE9wdGlvblByb3AobmV3SW5kZXgsICdpc05ldycsIHRydWUpO1xyXG5cclxuICAgIC8qKiB1c2luZyBzZXRUaW1lb3V0IHRvIGZpeCB0aGUgaXNzdWUgb2YgZHJvcGJveCBnZXR0aW5nIGNsb3NlZCBvbiBzZWxlY3QgKi9cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICB0aGlzLnNldFNlYXJjaFZhbHVlKCcnKTtcclxuICAgICAgdGhpcy5mb2N1c1NlYXJjaElucHV0KCk7XHJcbiAgICB9LCAwKTtcclxuICB9XHJcblxyXG4gIC8qKiBoZWxwZXIgbWV0aG9kcyAtIHN0YXJ0ICovXHJcbiAgYWRkQ2xhc3MoJGVsZSwgY2xhc3NOYW1lKSB7XHJcbiAgICBpZiAoISRlbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZS5zcGxpdCgnICcpO1xyXG5cclxuICAgIHRoaXMuZ2V0RWxlbWVudHMoJGVsZSkuZm9yRWFjaCgoX3RoaXMpID0+IHtcclxuICAgICAgX3RoaXMuY2xhc3NMaXN0LmFkZCguLi5jbGFzc05hbWUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVDbGFzcygkZWxlLCBjbGFzc05hbWUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnNwbGl0KCcgJyk7XHJcblxyXG4gICAgdGhpcy5nZXRFbGVtZW50cygkZWxlKS5mb3JFYWNoKChfdGhpcykgPT4ge1xyXG4gICAgICBfdGhpcy5jbGFzc0xpc3QucmVtb3ZlKC4uLmNsYXNzTmFtZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUNsYXNzKCRlbGUsIGNsYXNzTmFtZSwgaXNBZGQpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzQWRkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgaXNBZGQgPSBCb29sZWFuKGlzQWRkKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaXNBZGRlZDtcclxuXHJcbiAgICB0aGlzLmdldEVsZW1lbnRzKCRlbGUpLmZvckVhY2goKF90aGlzKSA9PiB7XHJcbiAgICAgIGlzQWRkZWQgPSBfdGhpcy5jbGFzc0xpc3QudG9nZ2xlKGNsYXNzTmFtZSwgaXNBZGQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGlzQWRkZWQ7XHJcbiAgfVxyXG5cclxuICBoYXNDbGFzcygkZWxlLCBjbGFzc05hbWUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICRlbGUuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XHJcbiAgfVxyXG5cclxuICBpc0VtcHR5KHZhbHVlKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBpc05vdEVtcHR5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gIXRoaXMuaXNFbXB0eSh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBzZXREYXRhKCRlbGUsIG5hbWUsIHZhbHVlKSB7XHJcbiAgICBpZiAoISRlbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICRlbGUuZGF0YXNldFtuYW1lXSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgZ2V0U3R5bGVUZXh0KHByb3BzLCBza2lwQXR0ck5hbWUpIHtcclxuICAgIGxldCByZXN1bHQgPSAnJztcclxuXHJcbiAgICBmb3IgKGxldCBrIGluIHByb3BzKSB7XHJcbiAgICAgIHJlc3VsdCArPSBgJHtrfTogJHtwcm9wc1trXX07YDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocmVzdWx0ICYmICFza2lwQXR0ck5hbWUpIHtcclxuICAgICAgcmVzdWx0ID0gYHN0eWxlPVwiJHtyZXN1bHR9XCJgO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICBnZXRFbGVtZW50cygkZWxlKSB7XHJcbiAgICBpZiAoISRlbGUpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgkZWxlLmxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICRlbGUgPSBbJGVsZV07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICRlbGU7XHJcbiAgfVxyXG5cclxuICBnZXREYXRhKCRlbGUsIG5hbWUsIHR5cGUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHZhbHVlID0gJGVsZSA/ICRlbGUuZGF0YXNldFtuYW1lXSA6ICcnO1xyXG5cclxuICAgIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xyXG4gICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodmFsdWUgPT09ICd0cnVlJykge1xyXG4gICAgICAgIHZhbHVlID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICAgIHZhbHVlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfVxyXG5cclxuICByZW1vdmVJdGVtRnJvbUFycmF5KGFycmF5LCB2YWx1ZSwgY2xvbmVBcnJheSkge1xyXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5KSB8fCAhYXJyYXkubGVuZ3RoIHx8ICF2YWx1ZSkge1xyXG4gICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNsb25lQXJyYXkpIHtcclxuICAgICAgYXJyYXkgPSBbLi4uYXJyYXldO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBpbmRleCA9IGFycmF5LmluZGV4T2YodmFsdWUpO1xyXG5cclxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXJyYXk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVBcnJheUVtcHR5KGFycmF5KSB7XHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpIHx8ICFhcnJheS5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcnJheS5maWx0ZXIoKGQpID0+ICEhZCk7XHJcbiAgfVxyXG5cclxuICBnZXRNb3JlVmlzaWJsZVNpZGVzKCRlbGUpIHtcclxuICAgIGlmICghJGVsZSkge1xyXG4gICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGJveCA9ICRlbGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBsZXQgYXZhaWxhYmxlV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIGxldCBhdmFpbGFibGVIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICBsZXQgbGVmdEFyZWEgPSBib3gubGVmdDtcclxuICAgIGxldCB0b3BBcmVhID0gYm94LnRvcDtcclxuICAgIGxldCByaWdodEFyZWEgPSBhdmFpbGFibGVXaWR0aCAtIGxlZnRBcmVhIC0gYm94LndpZHRoO1xyXG4gICAgbGV0IGJvdHRvbUFyZWEgPSBhdmFpbGFibGVIZWlnaHQgLSB0b3BBcmVhIC0gYm94LmhlaWdodDtcclxuICAgIGxldCBob3Jpem9udGFsID0gbGVmdEFyZWEgPiByaWdodEFyZWEgPyAnbGVmdCcgOiAncmlnaHQnO1xyXG4gICAgbGV0IHZlcnRpY2FsID0gdG9wQXJlYSA+IGJvdHRvbUFyZWEgPyAndG9wJyA6ICdib3R0b20nO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGhvcml6b250YWwsXHJcbiAgICAgIHZlcnRpY2FsLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGdldFNpYmxpbmcoJGVsZSwgZGlyZWN0aW9uKSB7XHJcbiAgICBsZXQgcHJvcE5hbWUgPSBkaXJlY3Rpb24gPT09ICduZXh0JyA/ICduZXh0RWxlbWVudFNpYmxpbmcnIDogJ3ByZXZpb3VzRWxlbWVudFNpYmxpbmcnO1xyXG5cclxuICAgIGRvIHtcclxuICAgICAgaWYgKCRlbGUpIHtcclxuICAgICAgICAkZWxlID0gJGVsZVtwcm9wTmFtZV07XHJcbiAgICAgIH1cclxuICAgIH0gd2hpbGUgKHRoaXMuaGFzQ2xhc3MoJGVsZSwgJ2Rpc2FibGVkJykpO1xyXG5cclxuICAgIHJldHVybiAkZWxlO1xyXG4gIH1cclxuXHJcbiAgZ2V0QXR0cmlidXRlc1RleHQoZGF0YSkge1xyXG4gICAgbGV0IGh0bWwgPSAnJztcclxuICBcclxuICAgIGlmICghZGF0YSkge1xyXG4gICAgICByZXR1cm4gaHRtbDtcclxuICAgIH1cclxuICBcclxuICAgIGZvciAobGV0IGsgaW4gZGF0YSkge1xyXG4gICAgICBodG1sICs9ICBgICR7a309XCIke2RhdGFba119XCIgYDtcclxuICAgIH1cclxuICBcclxuICAgIHJldHVybiBodG1sO1xyXG4gIH1cclxuXHJcbiAgY29udmVydFRvQm9vbGVhbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuICh2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gJ3RydWUnKSA/IHRydWUgOiBmYWxzZTtcclxuICB9XHJcbiAgLyoqIGhlbHBlciBtZXRob2RzIC0gZW5kICovXHJcblxyXG4gIC8qKiBzdGF0aWMgbWV0aG9kcyAtIHN0YXJ0ICovXHJcbiAgc3RhdGljIGluaXQob3B0aW9ucykge1xyXG4gICAgbGV0ICRlbGVBcnJheSA9IG9wdGlvbnMuZWxlO1xyXG5cclxuICAgIGlmICghJGVsZUFycmF5KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2luZ2xlRWxlID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKHR5cGVvZiAkZWxlQXJyYXkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICRlbGVBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJGVsZUFycmF5KTtcclxuXHJcbiAgICAgIGlmICghJGVsZUFycmF5KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCRlbGVBcnJheS5sZW5ndGggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAkZWxlQXJyYXkgPSBbJGVsZUFycmF5XTtcclxuICAgICAgc2luZ2xlRWxlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaW5zdGFuY2VzID0gW107XHJcbiAgICAkZWxlQXJyYXkuZm9yRWFjaCgoJGVsZSkgPT4ge1xyXG4gICAgICBvcHRpb25zLmVsZSA9ICRlbGU7XHJcbiAgICAgIGluc3RhbmNlcy5wdXNoKG5ldyBWaXJ0dWFsU2VsZWN0KG9wdGlvbnMpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBzaW5nbGVFbGUgPyBpbnN0YW5jZXNbMF0gOiBpbnN0YW5jZXM7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgY2xvc2VBbGxEcm9wYm94KCRlbGVUb0tlZXBPcGVuKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnNjb21wLXdyYXBwZXInKS5mb3JFYWNoKCgkZWxlKSA9PiB7XHJcbiAgICAgIGlmICgkZWxlVG9LZWVwT3BlbiAmJiAkZWxlVG9LZWVwT3BlbiA9PT0gJGVsZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgJGVsZS5wYXJlbnRFbGVtZW50LnZpcnR1YWxTZWxlY3QuY2xvc2VEcm9wYm94KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyByZXNldEZvcm0oZSkge1xyXG4gICAgbGV0ICRmb3JtID0gZS50YXJnZXQuY2xvc2VzdCgnZm9ybScpO1xyXG5cclxuICAgIGlmICghJGZvcm0pIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICRmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c2NvbXAtd3JhcHBlcicpLmZvckVhY2goKCRlbGUpID0+IHtcclxuICAgICAgJGVsZS5wYXJlbnRFbGVtZW50LnZpcnR1YWxTZWxlY3QucmVzZXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHJlc2V0KCkge1xyXG4gICAgdGhpcy52aXJ0dWFsU2VsZWN0LnJlc2V0KCk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2V0VmFsdWVNZXRob2QodmFsdWUsIHNpbGVudENoYW5nZSkge1xyXG4gICAgdGhpcy52aXJ0dWFsU2VsZWN0LnNldFZhbHVlTWV0aG9kKHZhbHVlLCBzaWxlbnRDaGFuZ2UpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIHNldE9wdGlvbnNNZXRob2Qob3B0aW9ucykge1xyXG4gICAgdGhpcy52aXJ0dWFsU2VsZWN0LnNldE9wdGlvbnNNZXRob2Qob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgc2V0RGlzYWJsZWRPcHRpb25zTWV0aG9kKG9wdGlvbnMpIHtcclxuICAgIHRoaXMudmlydHVhbFNlbGVjdC5zZXREaXNhYmxlZE9wdGlvbnNNZXRob2Qob3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdG9nZ2xlU2VsZWN0QWxsKGlzU2VsZWN0ZWQpIHtcclxuICAgIHRoaXMudmlydHVhbFNlbGVjdC50b2dnbGVBbGxPcHRpb25zKGlzU2VsZWN0ZWQpO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGlzQWxsU2VsZWN0ZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52aXJ0dWFsU2VsZWN0LmlzQWxsU2VsZWN0ZWQ7XHJcbiAgfVxyXG4gIC8qKiBzdGF0aWMgbWV0aG9kcyAtIHN0YXJ0ICovXHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2V0JywgVmlydHVhbFNlbGVjdC5yZXNldEZvcm0pO1xyXG5cclxud2luZG93LlZpcnR1YWxTZWxlY3QgPSBWaXJ0dWFsU2VsZWN0O1xyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGVcbl9fd2VicGFja19yZXF1aXJlX18oXCIuL3NyYy92aXJ0dWFsLXNlbGVjdC5qc1wiKTtcbi8vIFRoaXMgZW50cnkgbW9kdWxlIHVzZWQgJ2V4cG9ydHMnIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbiJdLCJzb3VyY2VSb290IjoiIn0=